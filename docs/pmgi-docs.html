<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-pmgi-docs" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">TEKUN PMGI Documentation | CSC Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://creative-system-consultant.github.io/csc-docs/img/csc-logo.png"><meta data-rh="true" name="twitter:image" content="https://creative-system-consultant.github.io/csc-docs/img/csc-logo.png"><meta data-rh="true" property="og:url" content="https://creative-system-consultant.github.io/csc-docs/docs/pmgi-docs"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TEKUN PMGI Documentation | CSC Docs"><meta data-rh="true" name="description" content="Table of Contents"><meta data-rh="true" property="og:description" content="Table of Contents"><link data-rh="true" rel="icon" href="/csc-docs/img/csc-logo.png"><link data-rh="true" rel="canonical" href="https://creative-system-consultant.github.io/csc-docs/docs/pmgi-docs"><link data-rh="true" rel="alternate" href="https://creative-system-consultant.github.io/csc-docs/docs/pmgi-docs" hreflang="en"><link data-rh="true" rel="alternate" href="https://creative-system-consultant.github.io/csc-docs/docs/pmgi-docs" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"TEKUN PMGI Documentation","item":"https://creative-system-consultant.github.io/csc-docs/docs/pmgi-docs"}]}</script><link rel="alternate" type="application/rss+xml" href="/csc-docs/blog/rss.xml" title="CSC Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/csc-docs/blog/atom.xml" title="CSC Docs Atom Feed"><link rel="stylesheet" href="/csc-docs/assets/css/styles.65f3e9ba.css">
<script src="/csc-docs/assets/js/runtime~main.985dce4e.js" defer="defer"></script>
<script src="/csc-docs/assets/js/main.2e749da9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/csc-docs/img/csc-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/csc-docs/"><div class="navbar__logo"><img src="/csc-docs/img/csc-logo.png" alt="CSC Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/csc-docs/img/csc-logo.png" alt="CSC Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">CSC Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/csc-docs/docs/sfms-docs">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/creative-system-consultant/csc-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csc-docs/docs/sfms-docs">SSM SFMS Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/csc-docs/docs/pmgi-docs">TEKUN PMGI Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csc-docs/docs/kap-docs">Kasih AP Gold Documentation</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/csc-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">TEKUN PMGI Documentation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PMGI System - Complete Developer Documentation</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2>
<ol>
<li><a href="#1-project-overview">Project Overview</a></li>
<li><a href="#2-system-architecture--design-patterns">System Architecture &amp; Design Patterns</a></li>
<li><a href="#3-technology-stack--dependencies">Technology Stack &amp; Dependencies</a></li>
<li><a href="#4-environment-configuration">Environment Configuration</a></li>
<li><a href="#5-database-architecture--relationships">Database Architecture &amp; Relationships</a></li>
<li><a href="#6-authentication--authorization-system">Authentication &amp; Authorization System</a></li>
<li><a href="#7-core-modules--workflows">Core Modules &amp; Workflows</a></li>
<li><a href="#8-middleware-implementation">Middleware Implementation</a></li>
<li><a href="#9-livewire-components-deep-dive">Livewire Components Deep Dive</a></li>
<li><a href="#10-queue-system--background-jobs">Queue System &amp; Background Jobs</a></li>
<li><a href="#11-file-handling--storage">File Handling &amp; Storage</a></li>
<li><a href="#12-email--notification-system">Email &amp; Notification System</a></li>
<li><a href="#13-pdf--report-generation">PDF &amp; Report Generation</a></li>
<li><a href="#14-frontend-implementation">Frontend Implementation</a></li>
<li><a href="#15-security-analysis--vulnerabilities">Security Analysis &amp; Vulnerabilities</a></li>
<li><a href="#16-performance-optimization">Performance Optimization</a></li>
<li><a href="#17-testing-strategy">Testing Strategy</a></li>
<li><a href="#18-installation--deployment">Installation &amp; Deployment</a></li>
<li><a href="#19-api-reference">API Reference</a></li>
<li><a href="#20-troubleshooting--debugging">Troubleshooting &amp; Debugging</a></li>
<li><a href="#21-code-examples--patterns">Code Examples &amp; Patterns</a></li>
<li><a href="#22-known-issues--technical-debt">Known Issues &amp; Technical Debt</a></li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-project-overview">1. Project Overview<a href="#1-project-overview" class="hash-link" aria-label="Direct link to 1. Project Overview" title="Direct link to 1. Project Overview">​</a></h2>
<p><strong>PMGI (Performance Management and Governance Index)</strong> is a sophisticated web-based performance evaluation system built for TEKUN Nasional, designed to streamline the performance management process for officers across various organizational levels. The system provides a comprehensive workflow for evaluation cycles, evaluator assignments, session management, and detailed reporting.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-system-purpose--business-logic">1.1 System Purpose &amp; Business Logic<a href="#11-system-purpose--business-logic" class="hash-link" aria-label="Direct link to 1.1 System Purpose &amp; Business Logic" title="Direct link to 1.1 System Purpose &amp; Business Logic">​</a></h3>
<p>The PMGI system serves as a centralized platform for:</p>
<ol>
<li>
<p><strong>Performance Evaluation Workflow Management</strong></p>
<ul>
<li>Multi-level evaluation process (PM1, PM2, PM3)</li>
<li>Structured evaluation forms and criteria</li>
<li>Session-based evaluation tracking</li>
<li>Result compilation and approval workflows</li>
</ul>
</li>
<li>
<p><strong>Stakeholder Management</strong></p>
<ul>
<li>Officer assignment and role management</li>
<li>Evaluator and facilitator appointment</li>
<li>Committee meeting coordination</li>
<li>HR oversight and intervention</li>
</ul>
</li>
<li>
<p><strong>Reporting &amp; Analytics</strong></p>
<ul>
<li>Performance trend analysis</li>
<li>Monthly and cumulative reports</li>
<li>Export capabilities (Excel, PDF)</li>
<li>Visual dashboards for different user roles</li>
</ul>
</li>
<li>
<p><strong>Notification &amp; Communication</strong></p>
<ul>
<li>Email notifications for all stakeholders</li>
<li>WhatsApp integration for urgent communications</li>
<li>Meeting invitations and reminders</li>
<li>Status updates and alerts</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-key-terminology--roles">1.2 Key Terminology &amp; Roles<a href="#12-key-terminology--roles" class="hash-link" aria-label="Direct link to 1.2 Key Terminology &amp; Roles" title="Direct link to 1.2 Key Terminology &amp; Roles">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Organizational Structure:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                        PMGI SYSTEM                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Admin Level:                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── System Admin (Full Access)                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── HR Officers (HR Oversight &amp; Reports)                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └── JTT Members (Committee Decisions)                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Evaluation Level:                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── PYD (Pegawai Dinilai) - Officer Being Evaluated        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── PYM (Pegawai Yang Menilai) - Evaluating Officer        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └── PMC (Pegawai Pemudah Cara) - Facilitating Officer      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p><strong>Detailed Role Definitions:</strong></p>
<ul>
<li>
<p><strong>PYD (Pegawai Dinilai)</strong>: Officer being evaluated</p>
<ul>
<li>Provides self-assessment</li>
<li>Uploads supporting documents</li>
<li>Responds to evaluation feedback</li>
<li>Signs evaluation confirmation</li>
</ul>
</li>
<li>
<p><strong>PYM (Pegawai Yang Menilai)</strong>: Primary evaluator</p>
<ul>
<li>Conducts performance evaluation</li>
<li>Provides scoring and feedback</li>
<li>Required for all PMGi levels (PM1, PM2, PM3)</li>
</ul>
</li>
<li>
<p><strong>PMC (Pegawai Pemudah Cara)</strong>: Evaluation facilitator</p>
<ul>
<li>Only required for PM3 level evaluations</li>
<li>Provides additional oversight</li>
<li>Facilitates evaluation process</li>
</ul>
</li>
<li>
<p><strong>JTT (Jawatankuasa Timbang Tara)</strong>: Arbitration committee</p>
<ul>
<li>Reviews complex cases</li>
<li>Makes final decisions on disciplinary actions</li>
<li>Handles appeals and disputes</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-pmgi-evaluation-levels">1.3 PMGi Evaluation Levels<a href="#13-pmgi-evaluation-levels" class="hash-link" aria-label="Direct link to 1.3 PMGi Evaluation Levels" title="Direct link to 1.3 PMGi Evaluation Levels">​</a></h3>
<p>The system implements a three-tier evaluation structure:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// PMGi Level Structure &amp; Timeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$pmgiLevels = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;PM1&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;description&#x27; =&gt; &#x27;Basic Performance Management&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;required_evaluators&#x27; =&gt; [&#x27;PYM&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;monitoring_duration&#x27; =&gt; &#x27;2 months&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;total_timeline&#x27; =&gt; &#x27;2 months monitoring + PM1 evaluation&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;outcomes&#x27; =&gt; [&#x27;CP1&#x27; =&gt; &#x27;Completed Successfully&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;PM2&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;description&#x27; =&gt; &#x27;Intermediate Performance Management&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;required_evaluators&#x27; =&gt; [&#x27;PYM&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;monitoring_duration&#x27; =&gt; &#x27;2 months&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;total_timeline&#x27; =&gt; &#x27;2 months monitoring + PM2 evaluation&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;outcomes&#x27; =&gt; [&#x27;CP2&#x27; =&gt; &#x27;Completed Successfully&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;PM3&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;description&#x27; =&gt; &#x27;Advanced Performance Management&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;required_evaluators&#x27; =&gt; [&#x27;PYM&#x27;, &#x27;PMC&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;monitoring_duration&#x27; =&gt; &#x27;2 months&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;total_timeline&#x27; =&gt; &#x27;2 months monitoring + PM3 evaluation&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;outcomes&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;PEX&#x27; =&gt; &#x27;Recommend Termination Without Conditions&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;EXC&#x27; =&gt; &#x27;Recommend Termination With Conditions&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;EXP&#x27; =&gt; &#x27;Suspend Recommendation&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;NEX&#x27; =&gt; &#x27;Escalate to JTT Committee&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// PMGi Timeline Flow Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$timelineExample = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 1-2 (Jan-Feb)&#x27; =&gt; &#x27;Initial 2-month monitoring period&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 3 (Mar)&#x27; =&gt; &#x27;If fails monitoring → Enter PM1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 4-5 (Apr-May)&#x27; =&gt; &#x27;2-month monitoring during PM1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 6 (Jun)&#x27; =&gt; &#x27;If fails PM1 → Enter PM2&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 7-8 (Jul-Aug)&#x27; =&gt; &#x27;2-month monitoring during PM2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 9 (Sep)&#x27; =&gt; &#x27;If fails PM2 → Enter PM3&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 10-11 (Oct-Nov)&#x27; =&gt; &#x27;2-month monitoring during PM3&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Month 12 (Dec)&#x27; =&gt; &#x27;PM3 evaluation → Final outcome or JTT escalation&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-system-workflow-overview">1.4 System Workflow Overview<a href="#14-system-workflow-overview" class="hash-link" aria-label="Direct link to 1.4 System Workflow Overview" title="Direct link to 1.4 System Workflow Overview">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A[Officer Flagged for PMGi] --&gt; B[Admin Creates Session]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    B --&gt; C[Assign PYM/PMC]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    C --&gt; D[Session Starts]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    D --&gt; E[PYD Self-Assessment]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E --&gt; F[PYM Evaluation]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    F --&gt; G{PM3 Level?}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    G --&gt;|Yes| H[PMC Evaluation]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    G --&gt;|No| I[Confirmation Process]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    H --&gt; I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    I --&gt; J[Results Processing]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J --&gt; K{Outcome}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    K --&gt;|Complete| L[Close Session]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    K --&gt;|Escalate| M[JTT Committee]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    M --&gt; N[Final Decision]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    N --&gt; L</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-system-architecture--design-patterns">2. System Architecture &amp; Design Patterns<a href="#2-system-architecture--design-patterns" class="hash-link" aria-label="Direct link to 2. System Architecture &amp; Design Patterns" title="Direct link to 2. System Architecture &amp; Design Patterns">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-high-level-architecture">2.1 High-Level Architecture<a href="#21-high-level-architecture" class="hash-link" aria-label="Direct link to 2.1 High-Level Architecture" title="Direct link to 2.1 High-Level Architecture">​</a></h3>
<p>The PMGI system follows a modular, layered architecture built on Laravel&#x27;s MVC pattern enhanced with Livewire components for reactive frontend interactions.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     PRESENTATION LAYER                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Web Browser (TailwindCSS + Alpine.js + Livewire)           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Dashboards (Role-based UI)                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Forms &amp; Validation (Livewire Components)               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Real-time Updates (Livewire Events)                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └── File Uploads (Livewire WithFileUploads)                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    APPLICATION LAYER                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Laravel 11 Framework                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Livewire Components (app/Livewire/)                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── HTTP Controllers (app/Http/Controllers/)               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Middleware (Authentication, Authorization, Session)    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Services (Business Logic)                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Jobs (Queue Processing)                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └── Console Commands (Artisan Commands)                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     DOMAIN LAYER                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Models &amp; Business Logic                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Eloquent Models (app/Models/)                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Relationships &amp; Scopes                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Validation Rules                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Custom Collections                                     │ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └── Model Events &amp; Observers                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                 INFRASTRUCTURE LAYER                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  External Systems &amp; Storage                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── MSSQL Database (Primary)                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Laravel Queue Tables                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── File Storage (Local/Cloud)                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── Email Services (SMTP)                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├── WhatsApp API (WABLAS)                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └── External HTML→Image Service                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-directory-structure--organization">2.2 Directory Structure &amp; Organization<a href="#22-directory-structure--organization" class="hash-link" aria-label="Direct link to 2.2 Directory Structure &amp; Organization" title="Direct link to 2.2 Directory Structure &amp; Organization">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Console/Commands/              # Artisan Commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ConvertHtmlToImage.php    # HTML→Image conversion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ImportHrOfficerData.php   # HR data synchronization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── CreateServiceCommand.php   # Service generators</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Http/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Controllers/               # Traditional controllers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Auth/                 # Authentication controllers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── SearchController.php  # AJAX search endpoints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Middleware/               # Custom middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── CheckUserAccess.php   # Page-level authorization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── CheckUserRole.php     # Role-based access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── EnsureHasSession.php  # Session validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── RestrictDuringSession.php # Session flow control</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Livewire/                     # Livewire Components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Auth/                     # Authentication components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Home/                     # Dashboard components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Module/                   # Core feature modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Hr/                   # HR management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Jtt/                  # Committee management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Lantikan/             # Appointment management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Prestasi/             # Performance reporting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Tetapan/              # System configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── LoadingPmgi.php           # Session loading states</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Models/                       # Eloquent Models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── User.php                  # User authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── SessionInfo.php           # Session management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── SettPymPmc.php            # PYM/PMC assignments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── MntrSession.php           # Session monitoring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [40+ specialized models]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Jobs/                         # Queue jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── SendJttHrEmail.php        # Email notifications</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── CleanupTemporaryFiles.php # File cleanup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [4 other notification jobs]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Services/                     # Business logic services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── General/LoginService.php  # Authentication logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── HtmlToImageService.php    # Image generation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── helpers.php                   # Global helper functions</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-design-patterns-implementation">2.3 Design Patterns Implementation<a href="#23-design-patterns-implementation" class="hash-link" aria-label="Direct link to 2.3 Design Patterns Implementation" title="Direct link to 2.3 Design Patterns Implementation">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="231-repository-pattern-implicit-via-eloquent">2.3.1 Repository Pattern (Implicit via Eloquent)<a href="#231-repository-pattern-implicit-via-eloquent" class="hash-link" aria-label="Direct link to 2.3.1 Repository Pattern (Implicit via Eloquent)" title="Direct link to 2.3.1 Repository Pattern (Implicit via Eloquent)">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Example: Session repository pattern through Eloquent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class SessionInfo extends Model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $table = &quot;pmgi_session_info&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $guarded = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $timestamps = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Relationship definitions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function setting()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(SettPymPmc::class, &#x27;session_id&#x27;, &#x27;session_id&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function pydInfo()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasOne(SessionPydInfo::class, &#x27;session_id&#x27;, &#x27;session_id&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Usage in Livewire components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$session = SessionInfo::whereDate(&#x27;session_date&#x27;, now())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;where(&#x27;status&#x27;, 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;whereHas(&#x27;setting&#x27;, function ($query) use ($user) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $query-&gt;where(&#x27;pyd_id&#x27;, $user-&gt;userid);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;first();</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="232-service-layer-pattern">2.3.2 Service Layer Pattern<a href="#232-service-layer-pattern" class="hash-link" aria-label="Direct link to 2.3.2 Service Layer Pattern" title="Direct link to 2.3.2 Service Layer Pattern">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// HtmlToImageService.php - Encapsulates complex business logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class HtmlToImageService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function generate(string $view, array $viewData, string $directory, string $fileName): array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Generate HTML from Blade view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $htmlContent = view($view, $viewData)-&gt;render();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Define file paths</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $directoryPath = storage_path(&#x27;app/public/&#x27; . $directory);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $htmlPath = $directoryPath . $fileName . &#x27;.html&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $imagePath = $directoryPath . $fileName . &#x27;.png&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Create directory if needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!file_exists($directoryPath)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                mkdir($directoryPath, 0777, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Save HTML content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            file_put_contents($htmlPath, $htmlContent);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Convert to image using Artisan command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $exitCode = Artisan::call(&#x27;convert:html-to-image&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;htmlPath&#x27; =&gt; $htmlPath,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;imagePath&#x27; =&gt; $imagePath,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;--quality&#x27; =&gt; 85,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;--format&#x27; =&gt; &#x27;png&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return [&#x27;html&#x27; =&gt; $htmlPath, &#x27;image&#x27; =&gt; $imagePath];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Log::error(&#x27;HtmlToImageService error: &#x27; . $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw $e;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="233-observer-pattern-livewire-events">2.3.3 Observer Pattern (Livewire Events)<a href="#233-observer-pattern-livewire-events" class="hash-link" aria-label="Direct link to 2.3.3 Observer Pattern (Livewire Events)" title="Direct link to 2.3.3 Observer Pattern (Livewire Events)">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Event-driven architecture for real-time updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class LoadingPmgi extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $listeners = [&#x27;sessionUpdated&#x27; =&gt; &#x27;checkRecord&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function checkRecord()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $pmgiLevel = substr($this-&gt;sessionId, 3, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($pmgiLevel != 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $pydRecordExists = SessionPydInfo::where(&#x27;session_id&#x27;, $this-&gt;sessionId)-&gt;exists();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $pymRecordExists = SessionPymInfo::where(&#x27;session_id&#x27;, $this-&gt;sessionId)-&gt;exists();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($pydRecordExists &amp;&amp; $pymRecordExists) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $encodedSessionId = str_replace(&#x27;/&#x27;, &#x27;-&#x27;, $this-&gt;sessionId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return $this-&gt;redirect(&#x27;/perakuan?session_id=&#x27;.$encodedSessionId.&#x27;&amp;source=&#x27;.$this-&gt;source);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ... PM3 logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="234-strategy-pattern-role-based-components">2.3.4 Strategy Pattern (Role-based Components)<a href="#234-strategy-pattern-role-based-components" class="hash-link" aria-label="Direct link to 2.3.4 Strategy Pattern (Role-based Components)" title="Direct link to 2.3.4 Strategy Pattern (Role-based Components)">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Abstract base for different PMGi levels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract class BasePmgi extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use Actions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Template method pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function showSelection($pmgi)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (count($this-&gt;selection) == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;emptySelection();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($this-&gt;getPmgiLevel() == &#x27;PM3&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;getPymPmc();  // Strategy for PM3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;getPym();     // Strategy for PM1/PM2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;pmgi = $pmgi;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;cardModal = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Strategy method - implemented by concrete classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    abstract protected function getPmgiLevel(): string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Concrete strategies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Pmgi1 extends BasePmgi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected function getPmgiLevel(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;PM1&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Pmgi3 extends BasePmgi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected function getPmgiLevel(): string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;PM3&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-component-communication-architecture">2.4 Component Communication Architecture<a href="#24-component-communication-architecture" class="hash-link" aria-label="Direct link to 2.4 Component Communication Architecture" title="Direct link to 2.4 Component Communication Architecture">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Parent-Child Component Communication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Home extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function mount()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle flash messages from middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (session()-&gt;has(&#x27;flash_error&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;dialog()-&gt;error(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $title = &#x27;Perhatian.&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $description = session(&#x27;flash_error&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Cross-component event emission</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PegawaiDinilai extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function submit()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;validate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SessionPydInfo::create([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;session_id&#x27; =&gt; $this-&gt;sessionId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;problem&#x27; =&gt; $this-&gt;problem,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;reason&#x27; =&gt; $this-&gt;reason,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ... other fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Emit event for other components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;emit(&#x27;sessionUpdated&#x27;, $this-&gt;sessionId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;redirect(&#x27;/loading-pmgi?session_id=&#x27; . $sessionId . &#x27;&amp;source=pyd&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-technology-stack--dependencies">3. Technology Stack &amp; Dependencies<a href="#3-technology-stack--dependencies" class="hash-link" aria-label="Direct link to 3. Technology Stack &amp; Dependencies" title="Direct link to 3. Technology Stack &amp; Dependencies">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-core-framework-stack">3.1 Core Framework Stack<a href="#31-core-framework-stack" class="hash-link" aria-label="Direct link to 3.1 Core Framework Stack" title="Direct link to 3.1 Core Framework Stack">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="php--laravel-foundation">PHP &amp; Laravel Foundation<a href="#php--laravel-foundation" class="hash-link" aria-label="Direct link to PHP &amp; Laravel Foundation" title="Direct link to PHP &amp; Laravel Foundation">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;require&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;php&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^8.2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;laravel/framework&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^11.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;laravel/tinker&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^2.9&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>PHP 8.2 Features Utilized:</strong></p>
<ul>
<li><strong>Typed Properties</strong>: Extensive use in Livewire components</li>
<li><strong>Union Types</strong>: Model relationship type hinting</li>
<li><strong>Match Expressions</strong>: Used in result mapping logic</li>
<li><strong>Enums</strong>: For PMGi result codes (implementation opportunity)</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Example of PHP 8.2 features in use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PegawaiDinilai extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Typed properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string $sessionId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int $problem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ?string $attachment = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Union types in methods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function processFile(): string|null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($this-&gt;file) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // File processing logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return $db_path;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="laravel-11-specific-features">Laravel 11 Specific Features<a href="#laravel-11-specific-features" class="hash-link" aria-label="Direct link to Laravel 11 Specific Features" title="Direct link to Laravel 11 Specific Features">​</a></h4>
<ul>
<li><strong>Simplified Application Structure</strong>: Streamlined bootstrap process</li>
<li><strong>Per-second Rate Limiting</strong>: Used in API endpoints</li>
<li><strong>Improved Artisan Commands</strong>: Custom commands for HTML conversion</li>
<li><strong>Enhanced Middleware</strong>: Advanced session management</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-frontend-technology-stack">3.2 Frontend Technology Stack<a href="#32-frontend-technology-stack" class="hash-link" aria-label="Direct link to 3.2 Frontend Technology Stack" title="Direct link to 3.2 Frontend Technology Stack">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tall-stack-implementation">TALL Stack Implementation<a href="#tall-stack-implementation" class="hash-link" aria-label="Direct link to TALL Stack Implementation" title="Direct link to TALL Stack Implementation">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">T - TailwindCSS ^3.4  (Utility-first CSS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A - Alpine.js ^3.13   (Lightweight JS framework)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L - Laravel ^11.0     (Backend framework)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L - Livewire ^3.4     (Full-stack reactive components)</span><br></span></code></pre></div></div>
<p><strong>TailwindCSS Configuration:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// tailwind.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;./resources/**/*.blade.php&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;./resources/**/*.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;./app/Livewire/**/*.php&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;./vendor/wireui/wireui/src/*.php&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;./vendor/wireui/wireui/ts/**/*.ts&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">theme</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">extend</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">colors</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">primary</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token number" style="color:#36acaa">50</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#eff6ff&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token number" style="color:#36acaa">600</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#2563eb&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token number" style="color:#36acaa">700</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#1d4ed8&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token number" style="color:#36acaa">800</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#1e40af&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token number" style="color:#36acaa">900</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#1e3a8a&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;@tailwindcss/forms&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;@tailwindcss/typography&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Alpine.js Integration Examples:</strong></p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Complex state management in PMGi records --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x-data</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    tab: &#x27;PM1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    pmgiData: {{ json_encode($pmgiData) }},</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    activePmgi: {},</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    pmgiSessionIds: { PM1: null, PM2: null, PM3: null },</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    setActivePmgi(lvl) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">        this.tab = lvl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">        this.activePmgi = this.pmgiData.find(pmgi =&gt; pmgi.lvl === lvl) || {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">        this.pmgiSessionIds[lvl] = this.activePmgi.session_id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    init() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">        this.pmgiData.forEach(pmgi =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">            this.pmgiSessionIds[pmgi.lvl] = pmgi.session_id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">        this.setActivePmgi(&#x27;PM1&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag attr-value" style="color:#e3116c">}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">x-init</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">init()</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Tab interface implementation --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="wireui-component-library">WireUI Component Library<a href="#wireui-component-library" class="hash-link" aria-label="Direct link to WireUI Component Library" title="Direct link to WireUI Component Library">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// composer.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;wireui/wireui&quot;: &quot;^1.19&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Component usage examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Login extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use Actions; // WireUI traits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function authenticate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // WireUI dialog integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;dialog()-&gt;error(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $title = &#x27;Perhatian.&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $description = &#x27;Authentication failed&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-database--storage-technologies">3.3 Database &amp; Storage Technologies<a href="#33-database--storage-technologies" class="hash-link" aria-label="Direct link to 3.3 Database &amp; Storage Technologies" title="Direct link to 3.3 Database &amp; Storage Technologies">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mssql-database-integration">MSSQL Database Integration<a href="#mssql-database-integration" class="hash-link" aria-label="Direct link to MSSQL Database Integration" title="Direct link to MSSQL Database Integration">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// config/database.php - SQL Server configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;sqlsrv&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;driver&#x27; =&gt; &#x27;sqlsrv&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;url&#x27; =&gt; env(&#x27;DATABASE_URL&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;host&#x27; =&gt; env(&#x27;DB_HOST&#x27;, &#x27;localhost&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;port&#x27; =&gt; env(&#x27;DB_PORT&#x27;, &#x27;1433&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;database&#x27; =&gt; env(&#x27;DB_DATABASE&#x27;, &#x27;pmgi&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;username&#x27; =&gt; env(&#x27;DB_USERNAME&#x27;, &#x27;sa&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;password&#x27; =&gt; env(&#x27;DB_PASSWORD&#x27;, &#x27;&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;charset&#x27; =&gt; &#x27;utf8&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;prefix&#x27; =&gt; &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;prefix_indexes&#x27; =&gt; true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;encrypt&#x27; =&gt; env(&#x27;DB_ENCRYPT&#x27;, &#x27;yes&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;trust_server_certificate&#x27; =&gt; env(&#x27;DB_TRUST_SERVER_CERTIFICATE&#x27;, &#x27;false&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;options&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PDO::ATTR_STRINGIFY_FETCHES =&gt; false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PDO::SQLSRV_ATTR_ENCODING =&gt; PDO::SQLSRV_ENCODING_UTF8,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Custom MSSQL stored procedure execution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class DB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function executeProcedure($procedureName, $bindings = [])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Execute stored procedure with parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $placeholders = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!empty($bindings)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach ($bindings as $key =&gt; $value) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $placeholders[] = &#x27;?&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $sql = &quot;EXEC $procedureName &quot; . implode(&#x27;, &#x27;, $placeholders);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return DB::select($sql, array_values($bindings));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return DB::select(&quot;EXEC $procedureName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Example stored procedure calls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function getPmgiSessionData($sessionId)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return self::executeProcedure(&#x27;sp_get_pmgi_session&#x27;, [$sessionId]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static function updatePmgiEvaluation($sessionId, $evaluation, $status)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return self::executeProcedure(&#x27;sp_update_pmgi_evaluation&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $sessionId, $evaluation, $status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-storage-architecture">File Storage Architecture<a href="#file-storage-architecture" class="hash-link" aria-label="Direct link to File Storage Architecture" title="Direct link to File Storage Architecture">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// config/filesystems.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;disks&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;local&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;driver&#x27; =&gt; &#x27;local&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;root&#x27; =&gt; storage_path(&#x27;app&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;throw&#x27; =&gt; false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;public&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;driver&#x27; =&gt; &#x27;local&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;root&#x27; =&gt; storage_path(&#x27;app/public&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;url&#x27; =&gt; env(&#x27;APP_URL&#x27;).&#x27;/storage&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;visibility&#x27; =&gt; &#x27;public&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;throw&#x27; =&gt; false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;ftp&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;driver&#x27; =&gt; &#x27;ftp&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;host&#x27; =&gt; env(&#x27;FTP_HOST&#x27;, &#x27;ftp.example.com&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;username&#x27; =&gt; env(&#x27;FTP_USERNAME&#x27;, &#x27;ftp_username&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;password&#x27; =&gt; env(&#x27;FTP_PASSWORD&#x27;, &#x27;ftp_password&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;port&#x27; =&gt; env(&#x27;FTP_PORT&#x27;, 21),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;root&#x27; =&gt; env(&#x27;FTP_ROOT&#x27;, &#x27;/&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-queue--job-processing">3.4 Queue &amp; Job Processing<a href="#34-queue--job-processing" class="hash-link" aria-label="Direct link to 3.4 Queue &amp; Job Processing" title="Direct link to 3.4 Queue &amp; Job Processing">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="laravel-queue-configuration">Laravel Queue Configuration<a href="#laravel-queue-configuration" class="hash-link" aria-label="Direct link to Laravel Queue Configuration" title="Direct link to Laravel Queue Configuration">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// config/queue.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;connections&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;database&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;driver&#x27; =&gt; &#x27;database&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;connection&#x27; =&gt; env(&#x27;DB_QUEUE_CONNECTION&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;table&#x27; =&gt; env(&#x27;DB_QUEUE_TABLE&#x27;, &#x27;pmgi_jobs&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;queue&#x27; =&gt; env(&#x27;DB_QUEUE&#x27;, &#x27;default&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;retry_after&#x27; =&gt; (int) env(&#x27;DB_QUEUE_RETRY_AFTER&#x27;, 90),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;after_commit&#x27; =&gt; false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Job implementation example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class SendJttHrEmail implements ShouldQueue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $imagePath;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $reportPaths;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function __construct($email, $imagePath, array $reportPaths)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;email = $email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;imagePath = $imagePath;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;reportPaths = $reportPaths;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function handle(): void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Mail::to($this-&gt;email)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;send(new JttHr($this-&gt;imagePath, $this-&gt;reportPaths));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="35-external-service-dependencies">3.5 External Service Dependencies<a href="#35-external-service-dependencies" class="hash-link" aria-label="Direct link to 3.5 External Service Dependencies" title="Direct link to 3.5 External Service Dependencies">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="document-processing-dependencies">Document Processing Dependencies<a href="#document-processing-dependencies" class="hash-link" aria-label="Direct link to Document Processing Dependencies" title="Direct link to Document Processing Dependencies">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;require&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;barryvdh/laravel-dompdf&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;maatwebsite/excel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>PDF Generation Implementation:</strong></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use Barryvdh\DomPDF\Facade\Pdf;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class RekodPmgi extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function streamRekodPmgi($sessionId)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $sessionId = str_replace(&#x27;-&#x27;, &#x27;/&#x27;, $sessionId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $data = $this-&gt;prepareReportData($sessionId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $pdf = Pdf::loadView(&#x27;pdf.borang_jpoc&#x27;, $data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;setPaper(&#x27;a4&#x27;, &#x27;portrait&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;setOptions([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;defaultFont&#x27; =&gt; &#x27;sans-serif&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;isHtml5ParserEnabled&#x27; =&gt; true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;isRemoteEnabled&#x27; =&gt; true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return response()-&gt;streamDownload(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            fn () =&gt; print($pdf-&gt;output()),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;rekod-pmgi-{$sessionId}.pdf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&#x27;Content-Type&#x27; =&gt; &#x27;application/pdf&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="whatsapp-integration-wablas-api">WhatsApp Integration (WABLAS API)<a href="#whatsapp-integration-wablas-api" class="hash-link" aria-label="Direct link to WhatsApp Integration (WABLAS API)" title="Direct link to WhatsApp Integration (WABLAS API)">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// config/app.php custom configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;wablas_api_url&#x27; =&gt; env(&#x27;WABLAS_API_URL&#x27;, &#x27;&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;wablas_api_token&#x27; =&gt; env(&#x27;WABLAS_API_TOKEN&#x27;, &#x27;&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;wablas_api_secret_key&#x27; =&gt; env(&#x27;WABLAS_API_SECRET_KEY&#x27;, &#x27;&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// WhatsApp service implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Whatsapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private $apiUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private $apiToken;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function __construct()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;apiUrl = config(&#x27;app.wablas_api_url&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;apiToken = config(&#x27;app.wablas_api_token&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function sendMessage($phoneNumber, $message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $endpoint = $this-&gt;apiUrl . &#x27;/api/send-message&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $payload = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;phone&#x27; =&gt; $phoneNumber,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;message&#x27; =&gt; $message,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;token&#x27; =&gt; $this-&gt;apiToken</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Http::post($endpoint, $payload);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="36-development--testing-tools">3.6 Development &amp; Testing Tools<a href="#36-development--testing-tools" class="hash-link" aria-label="Direct link to 3.6 Development &amp; Testing Tools" title="Direct link to 3.6 Development &amp; Testing Tools">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="laravel-debugbar-integration">Laravel Debugbar Integration<a href="#laravel-debugbar-integration" class="hash-link" aria-label="Direct link to Laravel Debugbar Integration" title="Direct link to Laravel Debugbar Integration">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// composer.json (dev dependency)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;require-dev&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;barryvdh/laravel-debugbar&quot;: &quot;^3.13&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Usage in development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (app()-&gt;environment(&#x27;local&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Debugbar automatically enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Shows queries, routes, views, mail, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pest-testing-framework">Pest Testing Framework<a href="#pest-testing-framework" class="hash-link" aria-label="Direct link to Pest Testing Framework" title="Direct link to Pest Testing Framework">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// composer.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;require-dev&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pestphp/pest&quot;: &quot;^2.34&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pestphp/pest-plugin-laravel&quot;: &quot;^2.4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Example test structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">it(&#x27;can authenticate user with valid credentials&#x27;, function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $user = User::factory()-&gt;create([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;userid&#x27; =&gt; &#x27;TEST1234&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;userstatus&#x27; =&gt; 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $response = $this-&gt;post(&#x27;/login&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;userId&#x27; =&gt; &#x27;TEST1234&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;password&#x27; =&gt; &#x27;password123&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $response-&gt;assertRedirect(&#x27;/home&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $this-&gt;assertAuthenticatedAs($user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="laravel-pint-code-formatting">Laravel Pint Code Formatting<a href="#laravel-pint-code-formatting" class="hash-link" aria-label="Direct link to Laravel Pint Code Formatting" title="Direct link to Laravel Pint Code Formatting">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// pint.json configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;preset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;laravel&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;simplified_null_return&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;not_operator_with_successor_space&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;ordered_imports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;sort_algorithm&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;alpha&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-environment-configuration">4. Environment Configuration<a href="#4-environment-configuration" class="hash-link" aria-label="Direct link to 4. Environment Configuration" title="Direct link to 4. Environment Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-environment-variables-reference">4.1 Environment Variables Reference<a href="#41-environment-variables-reference" class="hash-link" aria-label="Direct link to 4.1 Environment Variables Reference" title="Direct link to 4.1 Environment Variables Reference">​</a></h3>
<p>The PMGI system requires extensive environment configuration for proper operation. Below is a comprehensive guide to all environment variables used:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Application Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_NAME=PMGI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_ENV=production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_KEY=base64:your-32-character-key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_DEBUG=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_TIMEZONE=Asia/Kuala_Lumpur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_URL=https://pmgi.tekun.gov.my</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_LOCALE=en</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_FALLBACK_LOCALE=en</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Database Configuration (MSSQL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_CONNECTION=sqlsrv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_HOST=your-mssql-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PORT=1433</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_DATABASE=your-database-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_SERVICE_NAME=your-service-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_USERNAME=your-username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PASSWORD=your-password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_CHARSET=AL32UTF8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PREFIX=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_SCHEMA_PREFIX=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_TNS=your-tns-entry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Queue Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">QUEUE_CONNECTION=database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_QUEUE_TABLE=pmgi_jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_QUEUE_RETRY_AFTER=90</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Mail Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_MAILER=smtp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_HOST=your-smtp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_PORT=587</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_USERNAME=your-email@tekun.gov.my</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_PASSWORD=your-email-password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_ENCRYPTION=tls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_FROM_ADDRESS=noreply@tekun.gov.my</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_FROM_NAME=&quot;PMGI System&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># WhatsApp Integration (WABLAS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WABLAS_API_URL=https://api.wablas.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WABLAS_API_TOKEN=your-wablas-token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WABLAS_API_SECRET_KEY=your-secret-key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># File Storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FILESYSTEM_DISK=local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FTP_HOST=your-ftp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FTP_USERNAME=your-ftp-username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FTP_PASSWORD=your-ftp-password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FTP_PORT=21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FTP_ROOT=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Session Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SESSION_DRIVER=database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SESSION_LIFETIME=480</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SESSION_ENCRYPT=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SESSION_EXPIRE_ON_CLOSE=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Cache Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CACHE_DRIVER=database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CACHE_PREFIX=pmgi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTH_GUARD=web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTH_PASSWORD_TIMEOUT=10800</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-server-requirements">4.2 Server Requirements<a href="#42-server-requirements" class="hash-link" aria-label="Direct link to 4.2 Server Requirements" title="Direct link to 4.2 Server Requirements">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-system-requirements">Minimum System Requirements<a href="#minimum-system-requirements" class="hash-link" aria-label="Direct link to Minimum System Requirements" title="Direct link to Minimum System Requirements">​</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">Operating System</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Windows Server 2019+ / Linux Ubuntu 20.04+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">PHP Version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 8.2+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">Memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 4GB RAM minimum</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 8GB recommended</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">Storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 50GB minimum</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 100GB+ recommended</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">Database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Microsoft SQL Server 2016+ or SQL Server 2019+ recommended</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">Required PHP Extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> BCMath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Ctype</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Fileinfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> JSON</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Mbstring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> OpenSSL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> PDO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> PDO_SQLSRV (MSSQL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Tokenizer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XML</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> cURL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> GD or Imagick</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Zip</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="external-tool-dependencies">External Tool Dependencies<a href="#external-tool-dependencies" class="hash-link" aria-label="Direct link to External Tool Dependencies" title="Direct link to External Tool Dependencies">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># wkhtmltopdf for HTML to Image conversion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Windows Installation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Download from: https://wkhtmltopdf.org/downloads.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Install to: C:\Program Files\wkhtmltopdf\bin\wkhtmltoimage.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Linux Installation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install wkhtmltopdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify installation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wkhtmltoimage --version</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-production-configuration">4.3 Production Configuration<a href="#43-production-configuration" class="hash-link" aria-label="Direct link to 4.3 Production Configuration" title="Direct link to 4.3 Production Configuration">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="web-server-configuration-apachenginx">Web Server Configuration (Apache/Nginx)<a href="#web-server-configuration-apachenginx" class="hash-link" aria-label="Direct link to Web Server Configuration (Apache/Nginx)" title="Direct link to Web Server Configuration (Apache/Nginx)">​</a></h4>
<p><strong>Apache (.htaccess already included):</strong></p>
<div class="language-apache codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-apache codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;IfModule mod_rewrite.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;IfModule mod_negotiation.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Options -MultiViews -Indexes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Handle Authorization Header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{HTTP:Authorization} .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Redirect Trailing Slashes If Not A Folder...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{REQUEST_FILENAME} !-d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{REQUEST_URI} (.+)/$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteRule ^ %1 [L,R=301]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Send Requests To Front Controller...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{REQUEST_FILENAME} !-d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{REQUEST_FILENAME} !-f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteRule ^ index.php [L]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/IfModule&gt;</span><br></span></code></pre></div></div>
<p><strong>Nginx Configuration:</strong></p>
<div class="language-nginx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-nginx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listen 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_name pmgi.tekun.gov.my;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root /var/www/pmgi/public;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_header X-Frame-Options &quot;SAMEORIGIN&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_header X-Content-Type-Options &quot;nosniff&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index index.php;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    charset utf-8;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try_files $uri $uri/ /index.php?$query_string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location = /favicon.ico { access_log off; log_not_found off; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location = /robots.txt  { access_log off; log_not_found off; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    error_page 404 /index.php;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location ~ \.php$ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        include fastcgi_params;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location ~ /\.(?!well-known).* {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deny all;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-development-environment-setup">4.4 Development Environment Setup<a href="#44-development-environment-setup" class="hash-link" aria-label="Direct link to 4.4 Development Environment Setup" title="Direct link to 4.4 Development Environment Setup">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-configuration-optional">Docker Configuration (Optional)<a href="#docker-configuration-optional" class="hash-link" aria-label="Direct link to Docker Configuration (Optional)" title="Direct link to Docker Configuration (Optional)">​</a></h4>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM php:8.2-fpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install system dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curl \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libpng-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libonig-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libxml2-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unzip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libaio1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install PHP extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN docker-php-ext-install pdo_mysql mbstring exif pcntl bcmath gd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install MSSQL drivers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curl apt-transport-https gnupg lsb-release \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor &gt; microsoft.gpg \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; echo &quot;deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-$(lsb_release -rs)-prod $(lsb_release -cs) main&quot; &gt; /etc/apt/sources.list.d/dotnetdev.list \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; apt-get update \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; ACCEPT_EULA=Y apt-get install -y msodbcsql18 mssql-tools18 unixodbc-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; echo &#x27;export PATH=&quot;$PATH:/opt/mssql-tools18/bin&quot;&#x27; &gt;&gt; ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Composer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --from=composer:latest /usr/bin/composer /usr/bin/composer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set working directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /var/www</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copy application code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY . .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN composer install --optimize-autoloader --no-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN chown -R www-data:www-data /var/www \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; chmod -R 755 /var/www/storage</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-database-architecture--relationships">5. Database Architecture &amp; Relationships<a href="#5-database-architecture--relationships" class="hash-link" aria-label="Direct link to 5. Database Architecture &amp; Relationships" title="Direct link to 5. Database Architecture &amp; Relationships">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-core-database-tables">5.1 Core Database Tables<a href="#51-core-database-tables" class="hash-link" aria-label="Direct link to 5.1 Core Database Tables" title="Direct link to 5.1 Core Database Tables">​</a></h3>
<p>The PMGI system utilizes a Microsoft SQL Server database with over 30 interconnected tables. Here&#x27;s the comprehensive structure:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="511-authentication--user-management">5.1.1 Authentication &amp; User Management<a href="#511-authentication--user-management" class="hash-link" aria-label="Direct link to 5.1.1 Authentication &amp; User Management" title="Direct link to 5.1.1 Authentication &amp; User Management">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Primary user table (external system)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> fms_users </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    userid VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    username VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    userpassword VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Encrypted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    userstatus NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- 1=Active, 0=Inactive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    encryptflag NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Encryption method flag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Officer details</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> bank_officer </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_name VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    staffno VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nokp VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- IC number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_position VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">officer_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> fms_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Branch information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> branch </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch_name VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch_type VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state_code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> bnm_statecode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="512-session-management-tables">5.1.2 Session Management Tables<a href="#512-session-management-tables" class="hash-link" aria-label="Direct link to 5.1.2 Session Management Tables" title="Direct link to 5.1.2 Session Management Tables">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Main session information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_session_info </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_date </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">status</span><span class="token plain"> NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- 0=Active, 1=Completed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- PYM/PMC assignment settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_sett_pym_pmc </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pyd_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Officer being evaluated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pym_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Evaluating officer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmc_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Facilitating officer (PM3 only)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_level VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- PM1, PM2, PM3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    report_date </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pyd_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> fms_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pym_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> fms_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pmc_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> fms_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Session evaluation data - PYD responses</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> session_pyd_info </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    problem NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Problem category</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reason CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Root cause analysis</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">action</span><span class="token plain"> CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Action plan</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    comments CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Additional comments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    attachment VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- File path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    date_signed </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_by VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Session evaluation data - PYM responses  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> session_pym_info </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    performance_score NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Performance rating</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    comments CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recommendations CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    date_signed </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_by VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Session evaluation data - PMC responses (PM3 only)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> session_pmc_info </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit_flag NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- 0=Continue, 1=Exit recommended</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit_type_flag NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- 1=Unconditional, 2=Conditional, 3=Suspended</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    facilitation_notes CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final_recommendation CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    date_signed </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_by VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="513-performance-monitoring">5.1.3 Performance Monitoring<a href="#513-performance-monitoring" class="hash-link" aria-label="Direct link to 5.1.3 Performance Monitoring" title="Direct link to 5.1.3 Performance Monitoring">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Performance monitoring session data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_mntr_session </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    report_date </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_level VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Current PMGi level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_cycle NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Evaluation cycle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_result VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Outcome code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_wq </span><span class="token keyword" style="color:#00009f">CHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;N&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Waiting queue flag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    seq_no NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Sequence number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">report_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state_code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> branch_code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> officer_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Monthly performance summary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_summ_mth_officer </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    report_date </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branch_state_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    acct_branch_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_branch_code VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    incl_pmgi_flag </span><span class="token keyword" style="color:#00009f">CHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Include in PMGi flag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_capai_flag </span><span class="token keyword" style="color:#00009f">CHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Achievement flag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cawangan VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Branch name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">officer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> report_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="514-access-control-tables">5.1.4 Access Control Tables<a href="#514-access-control-tables" class="hash-link" aria-label="Direct link to 5.1.4 Access Control Tables" title="Direct link to 5.1.4 Access Control Tables">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- User access levels - Roles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_sett_ual_role </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- User access levels - Pages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_sett_ual_page </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">key</span><span class="token plain"> VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Used in middleware</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Role-Page mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_sett_ual_role_has_page </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    role_id NUMBER </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page_id NUMBER </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">role_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_sett_ual_role</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_sett_ual_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">role_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> page_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- User-Role mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> pmgi_sett_ual_user_has_role </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    userid VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    role_id NUMBER </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> fms_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">role_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> pmgi_sett_ual_role</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> role_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="515-jtt-committee-management">5.1.5 JTT Committee Management<a href="#515-jtt-committee-management" class="hash-link" aria-label="Direct link to 5.1.5 JTT Committee Management" title="Direct link to 5.1.5 JTT Committee Management">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- JTT session information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> jtt_session_info </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_date </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    venue_id NUMBER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">status</span><span class="token plain"> VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SCHEDULED&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_by VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">venue_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> sett_meeting_room</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- JTT session participants</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> jtt_session_participant </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pmgi_level VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    report_date </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    attendance_status VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;PENDING&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> jtt_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> fms_users</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- JTT specific evaluation data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> session_jtt_pyd_info </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IDENTITY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    session_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    officer_id VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result VARCHAR2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- JTT decision</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mth_delay NUMBER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- Months delay if applicable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    comments CLOB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> SYSDATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> jtt_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-eloquent-model-relationships">5.2 Eloquent Model Relationships<a href="#52-eloquent-model-relationships" class="hash-link" aria-label="Direct link to 5.2 Eloquent Model Relationships" title="Direct link to 5.2 Eloquent Model Relationships">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="521-user-model-relationships">5.2.1 User Model Relationships<a href="#521-user-model-relationships" class="hash-link" aria-label="Direct link to 5.2.1 User Model Relationships" title="Direct link to 5.2.1 User Model Relationships">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// app/Models/User.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class User extends Authenticatable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $table = &quot;fms_users&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $primaryKey = &#x27;userid&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $incrementing = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $keyType = &#x27;string&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $timestamps = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Officer details relationship</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function bankOfficer()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasOne(BankOfficer::class, &#x27;officer_id&#x27;, &#x27;userid&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // User roles (many-to-many)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function roles()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsToMany(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SettUalRole::class, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;pmgi_sett_ual_user_has_role&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;userid&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;role_id&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Helper methods for user data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function stateCode()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return optional(optional($this-&gt;bankOfficer)-&gt;branch)-&gt;state_code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function branchName()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return optional(optional($this-&gt;bankOfficer)-&gt;branch)-&gt;branch_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="522-session-model-relationships">5.2.2 Session Model Relationships<a href="#522-session-model-relationships" class="hash-link" aria-label="Direct link to 5.2.2 Session Model Relationships" title="Direct link to 5.2.2 Session Model Relationships">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// app/Models/SettPymPmc.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class SettPymPmc extends Model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $table = &quot;pmgi_sett_pym_pmc&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $guarded = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Officer being evaluated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function pyd()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(User::class, &#x27;pyd_id&#x27;, &#x27;userid&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Evaluating officer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function pym()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(User::class, &#x27;pym_id&#x27;, &#x27;userid&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Facilitating officer (PM3 only)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function pmc()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;belongsTo(User::class, &#x27;pmc_id&#x27;, &#x27;userid&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Session information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function info()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasOne(SessionInfo::class, &#x27;session_id&#x27;, &#x27;session_id&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Performance monitoring data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function mntrSession()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $this-&gt;hasOne(MntrSession::class, &#x27;report_date&#x27;, &#x27;report_date&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    -&gt;where(&#x27;officer_id&#x27;, $this-&gt;pyd_id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="523-complex-query-examples">5.2.3 Complex Query Examples<a href="#523-complex-query-examples" class="hash-link" aria-label="Direct link to 5.2.3 Complex Query Examples" title="Direct link to 5.2.3 Complex Query Examples">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get active sessions for a user with all related data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$activeSessions = SessionInfo::whereDate(&#x27;session_date&#x27;, now())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;where(function ($query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $query-&gt;where(&#x27;status&#x27;, 0)-&gt;orWhereNull(&#x27;status&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;whereHas(&#x27;setting&#x27;, function ($query) use ($user) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $query-&gt;where(function ($q) use ($user) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $q-&gt;where(&#x27;pyd_id&#x27;, $user-&gt;userid)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              -&gt;orWhere(&#x27;pym_id&#x27;, $user-&gt;userid)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              -&gt;orWhere(&#x27;pmc_id&#x27;, $user-&gt;userid);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;with([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;setting.pyd.bankOfficer.branch.bnmState&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;setting.pym.bankOfficer&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;setting.pmc.bankOfficer&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Get performance data with complex filtering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$performanceData = SummMthOfficer::with([&#x27;branch&#x27;, &#x27;officerBranch&#x27;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;whereDate(&#x27;report_date&#x27;, $reportDate-&gt;endOfMonth())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;when($stateFilter !== &#x27;%&#x27;, function ($query) use ($stateFilter) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $query-&gt;where(&#x27;branch_state_code&#x27;, $stateFilter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;when($branchFilter !== &#x27;%%&#x27;, function ($query) use ($branchFilter) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return $query-&gt;where(&#x27;acct_branch_code&#x27;, $branchFilter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;orderBy(&#x27;branch_state_code&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;orderBy(&#x27;cawangan&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;orderBy(&#x27;incl_pmgi_flag&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;get()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;groupBy([&#x27;branch_state_code&#x27;, &#x27;acct_branch_code&#x27;, &#x27;officer_id&#x27;]);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-database-performance-considerations">5.3 Database Performance Considerations<a href="#53-database-performance-considerations" class="hash-link" aria-label="Direct link to 5.3 Database Performance Considerations" title="Direct link to 5.3 Database Performance Considerations">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="531-recommended-indexes">5.3.1 Recommended Indexes<a href="#531-recommended-indexes" class="hash-link" aria-label="Direct link to 5.3.1 Recommended Indexes" title="Direct link to 5.3.1 Recommended Indexes">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Session lookup optimization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_session_info_date_status </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> pmgi_session_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_sett_pym_pmc_lookup </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> pmgi_sett_pym_pmc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pyd_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pym_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pmc_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Performance monitoring optimization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_mntr_session_officer_date </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> pmgi_mntr_session</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">officer_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> report_date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_summ_mth_officer_report_date </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> pmgi_summ_mth_officer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">report_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> branch_state_code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Access control optimization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_user_role_userid </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> pmgi_sett_ual_user_has_role</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> idx_role_page_role_id </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> pmgi_sett_ual_role_has_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">role_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="532-query-optimization-strategies">5.3.2 Query Optimization Strategies<a href="#532-query-optimization-strategies" class="hash-link" aria-label="Direct link to 5.3.2 Query Optimization Strategies" title="Direct link to 5.3.2 Query Optimization Strategies">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Use eager loading to prevent N+1 queries</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$sessions = SettPymPmc::with([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;pyd:userid,username&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;pym:userid,username&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;pmc:userid,username&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;info:session_id,session_date,status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">])-&gt;where(&#x27;pmgi_level&#x27;, &#x27;PM3&#x27;)-&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Use chunk processing for large datasets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SessionInfo::whereDate(&#x27;session_date&#x27;, &#x27;&lt;&#x27;, now()-&gt;subDays(30))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;chunk(100, function ($sessions) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($sessions as $session) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Process expired sessions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;archiveSession($session);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Use database transactions for consistency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB::transaction(function () use ($sessionData) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $session = SessionInfo::create($sessionData[&#x27;session&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $setting = SettPymPmc::create($sessionData[&#x27;setting&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Additional related record creation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $this-&gt;createInitialRecords($session, $setting);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-roles--access-control">User Roles &amp; Access Control<a href="#user-roles--access-control" class="hash-link" aria-label="Direct link to User Roles &amp; Access Control" title="Direct link to User Roles &amp; Access Control">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="role-structure">Role Structure<a href="#role-structure" class="hash-link" aria-label="Direct link to Role Structure" title="Direct link to Role Structure">​</a></h3>
<ol>
<li><strong>Admin</strong>: System administration and oversight</li>
<li><strong>HR</strong>: Human resources management</li>
<li><strong>PYD</strong>: Officer being evaluated</li>
<li><strong>PYM</strong>: Evaluating officer</li>
<li><strong>PMC</strong>: Facilitating officer (PM3 only)</li>
<li><strong>JTT</strong>: Committee members</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="access-control-implementation">Access Control Implementation<a href="#access-control-implementation" class="hash-link" aria-label="Direct link to Access Control Implementation" title="Direct link to Access Control Implementation">​</a></h3>
<ul>
<li><strong>Middleware</strong>: <code>CheckUserAccess</code> validates role-based page access</li>
<li><strong>Database Tables</strong>:<!-- -->
<ul>
<li><code>pmgi_sett_ual_role</code>: Role definitions</li>
<li><code>pmgi_sett_ual_page</code>: Page access definitions</li>
<li><code>pmgi_sett_ual_role_has_page</code>: Role-page mapping</li>
<li><code>pmgi_sett_ual_user_has_role</code>: User-role mapping</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permission-system">Permission System<a href="#permission-system" class="hash-link" aria-label="Direct link to Permission System" title="Direct link to Permission System">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Example access control in routes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/lantikan/penilai&#x27;, EvaluatorIndex::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;middleware(&#x27;check.access:lantikan-pym-mc&#x27;);</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-structure">Database Structure<a href="#database-structure" class="hash-link" aria-label="Direct link to Database Structure" title="Direct link to Database Structure">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-tables">Core Tables<a href="#core-tables" class="hash-link" aria-label="Direct link to Core Tables" title="Direct link to Core Tables">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="session-management">Session Management<a href="#session-management" class="hash-link" aria-label="Direct link to Session Management" title="Direct link to Session Management">​</a></h4>
<ul>
<li><code>pmgi_session_info</code>: Main session information</li>
<li><code>pmgi_sett_pym_pmc</code>: PYM/PMC assignments</li>
<li><code>pmgi_mntr_session</code>: Session monitoring data</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="user--officer-data">User &amp; Officer Data<a href="#user--officer-data" class="hash-link" aria-label="Direct link to User &amp; Officer Data" title="Direct link to User &amp; Officer Data">​</a></h4>
<ul>
<li><code>fms_users</code>: User authentication data</li>
<li><code>bank_officer</code>: Officer details and branch information</li>
<li><code>hrd_officer</code>: HR officer information</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="jtt-management">JTT Management<a href="#jtt-management" class="hash-link" aria-label="Direct link to JTT Management" title="Direct link to JTT Management">​</a></h4>
<ul>
<li><code>jtt_session_info</code>: JTT meeting information</li>
<li><code>jtt_session_participant</code>: Meeting participants</li>
<li><code>jtt_meeting_invitations</code>: Email invitations</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="settings--configuration">Settings &amp; Configuration<a href="#settings--configuration" class="hash-link" aria-label="Direct link to Settings &amp; Configuration" title="Direct link to Settings &amp; Configuration">​</a></h4>
<ul>
<li><code>pmgi_sett_ual_*</code>: User access level tables</li>
<li><code>sett_pyd_prob</code>: Performance evaluation settings</li>
<li><code>sett_meeting_room</code>: Meeting room configuration</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-integration">Database Integration<a href="#database-integration" class="hash-link" aria-label="Direct link to Database Integration" title="Direct link to Database Integration">​</a></h3>
<ul>
<li><strong>MSSQL Database</strong>: Primary database with stored procedures</li>
<li><strong>Stored Procedures</strong>: <code>dbo.UP_PMGI_UPD_MNTR_SESSION</code> for session updates</li>
<li><strong>Custom DB Methods</strong>: <code>DB::executeProcedure()</code> for stored procedure calls</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation--setup">Installation &amp; Setup<a href="#installation--setup" class="hash-link" aria-label="Direct link to Installation &amp; Setup" title="Direct link to Installation &amp; Setup">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h3>
<ul>
<li>PHP ^8.2</li>
<li>MSSQL Database</li>
<li>Node.js &amp; NPM</li>
<li>Composer</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation-steps">Installation Steps<a href="#installation-steps" class="hash-link" aria-label="Direct link to Installation Steps" title="Direct link to Installation Steps">​</a></h3>
<ol>
<li><strong>Clone Repository &amp; Install Dependencies</strong></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">composer install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span></code></pre></div></div>
<ol start="2">
<li><strong>Environment Configuration</strong></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.example .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan key:generate</span><br></span></code></pre></div></div>
<ol start="3">
<li><strong>Database Setup</strong></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">php artisan migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan db:seed</span><br></span></code></pre></div></div>
<ol start="4">
<li><strong>Asset Compilation</strong></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span></code></pre></div></div>
<ol start="5">
<li><strong>Queue Setup</strong></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">php artisan queue:work</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-files">Configuration Files<a href="#configuration-files" class="hash-link" aria-label="Direct link to Configuration Files" title="Direct link to Configuration Files">​</a></h3>
<ul>
<li><code>config/database.php</code>: MSSQL database configuration</li>
<li><code>config/queue.php</code>: Queue configuration</li>
<li><code>config/mail.php</code>: Email configuration</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-features">Security Features<a href="#security-features" class="hash-link" aria-label="Direct link to Security Features" title="Direct link to Security Features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-security">Authentication Security<a href="#authentication-security" class="hash-link" aria-label="Direct link to Authentication Security" title="Direct link to Authentication Security">​</a></h3>
<ul>
<li>Custom password encryption/decryption</li>
<li>Session-based authentication</li>
<li>Role-based access control</li>
<li>Middleware protection on all routes</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-protection">Data Protection<a href="#data-protection" class="hash-link" aria-label="Direct link to Data Protection" title="Direct link to Data Protection">​</a></h3>
<ul>
<li>SQL injection protection through Eloquent ORM</li>
<li>CSRF protection on forms</li>
<li>XSS protection through Blade templating</li>
<li>Input validation and sanitization</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-security">Session Security<a href="#session-security" class="hash-link" aria-label="Direct link to Session Security" title="Direct link to Session Security">​</a></h3>
<ul>
<li>Session restriction during active evaluations</li>
<li>Middleware to prevent unauthorized access</li>
<li>Session timeout handling</li>
<li>User activity tracking</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="email--notification-system">Email &amp; Notification System<a href="#email--notification-system" class="hash-link" aria-label="Direct link to Email &amp; Notification System" title="Direct link to Email &amp; Notification System">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="email-features">Email Features<a href="#email-features" class="hash-link" aria-label="Direct link to Email Features" title="Direct link to Email Features">​</a></h3>
<ul>
<li><strong>Queue-based sending</strong>: Background email processing</li>
<li><strong>HTML to Image</strong>: Email content as images</li>
<li><strong>Multiple recipients</strong>: HR and committee notifications</li>
<li><strong>Attachments</strong>: PDF reports and evaluation forms</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notification-jobs">Notification Jobs<a href="#notification-jobs" class="hash-link" aria-label="Direct link to Notification Jobs" title="Direct link to Notification Jobs">​</a></h3>
<ul>
<li><code>SendJttHrEmail</code>: JTT committee notifications</li>
<li><code>SendLantikanPymPmcEmail</code>: Appointment notifications</li>
<li><code>SendLantikanUrusetiaNegeriEmail</code>: State committee notifications</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="whatsapp-integration">WhatsApp Integration<a href="#whatsapp-integration" class="hash-link" aria-label="Direct link to WhatsApp Integration" title="Direct link to WhatsApp Integration">​</a></h3>
<ul>
<li><strong>WABLAS API</strong>: WhatsApp messaging service</li>
<li><strong>Configuration</strong>: API URL, token, and secret key in app config</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdf--report-generation">PDF &amp; Report Generation<a href="#pdf--report-generation" class="hash-link" aria-label="Direct link to PDF &amp; Report Generation" title="Direct link to PDF &amp; Report Generation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdf-generation">PDF Generation<a href="#pdf-generation" class="hash-link" aria-label="Direct link to PDF Generation" title="Direct link to PDF Generation">​</a></h3>
<ul>
<li><strong>DomPDF</strong>: Laravel PDF generation</li>
<li><strong>Templates</strong>: Blade templates for different report types</li>
<li><strong>Forms</strong>: JPOC forms (PM1, PM2, PM3)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="html-to-image-service">HTML to Image Service<a href="#html-to-image-service" class="hash-link" aria-label="Direct link to HTML to Image Service" title="Direct link to HTML to Image Service">​</a></h3>
<ul>
<li><strong>wkhtmltopdf</strong>: Command-line tool for conversion</li>
<li><strong>Custom Service</strong>: <code>HtmlToImageService</code> class</li>
<li><strong>Quality Control</strong>: 85% quality PNG output</li>
<li><strong>File Management</strong>: Temporary file cleanup</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="export-features">Export Features<a href="#export-features" class="hash-link" aria-label="Direct link to Export Features" title="Direct link to Export Features">​</a></h3>
<ul>
<li><strong>Excel Export</strong>: Performance reports and session lists</li>
<li><strong>PDF Export</strong>: Individual evaluation reports</li>
<li><strong>Image Export</strong>: Email-ready report images</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-issues--potential-bugs">Known Issues &amp; Potential Bugs<a href="#known-issues--potential-bugs" class="hash-link" aria-label="Direct link to Known Issues &amp; Potential Bugs" title="Direct link to Known Issues &amp; Potential Bugs">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-critical-issues">⚠️ Critical Issues<a href="#️-critical-issues" class="hash-link" aria-label="Direct link to ⚠️ Critical Issues" title="Direct link to ⚠️ Critical Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-password-security-vulnerability">1. Password Security Vulnerability<a href="#1-password-security-vulnerability" class="hash-link" aria-label="Direct link to 1. Password Security Vulnerability" title="Direct link to 1. Password Security Vulnerability">​</a></h4>
<p><strong>Location</strong>: <code>app/Services/General/LoginService.php</code>
<strong>Issue</strong>: Custom password decryption with hardcoded encryption arrays
<strong>Risk</strong>: High - Passwords can be reverse-engineered if source code is compromised
<strong>Recommendation</strong>: Migrate to Laravel&#x27;s built-in hashing system</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-sql-injection-risk">2. SQL Injection Risk<a href="#2-sql-injection-risk" class="hash-link" aria-label="Direct link to 2. SQL Injection Risk" title="Direct link to 2. SQL Injection Risk">​</a></h4>
<p><strong>Location</strong>: Multiple stored procedure calls
<strong>Issue</strong>: Direct stored procedure execution with user input
<strong>Risk</strong>: Medium - Potential SQL injection through stored procedures
<strong>Files</strong>:</p>
<ul>
<li><code>app/Livewire/LoadingPerakuan.php:156</code></li>
<li><code>app/Livewire/Module/Hr/Index.php:136</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-file-path-traversal">3. File Path Traversal<a href="#3-file-path-traversal" class="hash-link" aria-label="Direct link to 3. File Path Traversal" title="Direct link to 3. File Path Traversal">​</a></h4>
<p><strong>Location</strong>: <code>app/Services/HtmlToImageService.php</code>
<strong>Issue</strong>: File paths constructed from user input without proper validation
<strong>Risk</strong>: Medium - Potential directory traversal attacks
<strong>Recommendation</strong>: Implement proper file path validation</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-environment-dependent-authentication">4. Environment-Dependent Authentication<a href="#4-environment-dependent-authentication" class="hash-link" aria-label="Direct link to 4. Environment-Dependent Authentication" title="Direct link to 4. Environment-Dependent Authentication">​</a></h4>
<p><strong>Location</strong>: <code>app/Livewire/Auth/Login.php</code>
<strong>Issue</strong>: Password validation bypassed in non-production environments
<strong>Risk</strong>: Medium - Security bypass in development/staging
<strong>Lines</strong>: 89-94, 132-140</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-logic--flow-issues">⚠️ Logic &amp; Flow Issues<a href="#️-logic--flow-issues" class="hash-link" aria-label="Direct link to ⚠️ Logic &amp; Flow Issues" title="Direct link to ⚠️ Logic &amp; Flow Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-race-condition-in-session-management">5. Race Condition in Session Management<a href="#5-race-condition-in-session-management" class="hash-link" aria-label="Direct link to 5. Race Condition in Session Management" title="Direct link to 5. Race Condition in Session Management">​</a></h4>
<p><strong>Location</strong>: <code>app/Http/Middleware/RestrictDuringSession.php</code>
<strong>Issue</strong>: Concurrent session updates could cause data inconsistency
<strong>Risk</strong>: Medium - Multiple users could modify session simultaneously
<strong>Recommendation</strong>: Implement database-level locking</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-missing-error-handling">6. Missing Error Handling<a href="#6-missing-error-handling" class="hash-link" aria-label="Direct link to 6. Missing Error Handling" title="Direct link to 6. Missing Error Handling">​</a></h4>
<p><strong>Location</strong>: <code>app/Services/HtmlToImageService.php</code>
<strong>Issue</strong>: File operations without proper error handling
<strong>Risk</strong>: Low - Application crashes on file I/O errors
<strong>Lines</strong>: 42-48</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-hardcoded-whatsapp-credentials">7. Hardcoded WhatsApp Credentials<a href="#7-hardcoded-whatsapp-credentials" class="hash-link" aria-label="Direct link to 7. Hardcoded WhatsApp Credentials" title="Direct link to 7. Hardcoded WhatsApp Credentials">​</a></h4>
<p><strong>Location</strong>: <code>config/app.php</code>
<strong>Issue</strong>: WhatsApp API credentials in configuration
<strong>Risk</strong>: Low - Credentials exposure in version control
<strong>Lines</strong>: 103-105</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-performance-issues">⚠️ Performance Issues<a href="#️-performance-issues" class="hash-link" aria-label="Direct link to ⚠️ Performance Issues" title="Direct link to ⚠️ Performance Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="8-n1-query-problem">8. N+1 Query Problem<a href="#8-n1-query-problem" class="hash-link" aria-label="Direct link to 8. N+1 Query Problem" title="Direct link to 8. N+1 Query Problem">​</a></h4>
<p><strong>Location</strong>: Various Livewire components
<strong>Issue</strong>: Potential database query multiplication
<strong>Files</strong>: User role checks in multiple components
<strong>Recommendation</strong>: Implement eager loading</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="9-large-memory-usage">9. Large Memory Usage<a href="#9-large-memory-usage" class="hash-link" aria-label="Direct link to 9. Large Memory Usage" title="Direct link to 9. Large Memory Usage">​</a></h4>
<p><strong>Location</strong>: Export functionality
<strong>Issue</strong>: Loading large datasets into memory for exports
<strong>Risk</strong>: Low - Memory exhaustion on large reports
<strong>Recommendation</strong>: Implement streaming exports</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="10-missing-database-indexes">10. Missing Database Indexes<a href="#10-missing-database-indexes" class="hash-link" aria-label="Direct link to 10. Missing Database Indexes" title="Direct link to 10. Missing Database Indexes">​</a></h4>
<p><strong>Issue</strong>: Performance degradation on large datasets
<strong>Tables</strong>: Session and user relationship tables
<strong>Recommendation</strong>: Add database indexes for frequently queried columns</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-data-integrity-issues">⚠️ Data Integrity Issues<a href="#️-data-integrity-issues" class="hash-link" aria-label="Direct link to ⚠️ Data Integrity Issues" title="Direct link to ⚠️ Data Integrity Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="11-soft-delete-missing">11. Soft Delete Missing<a href="#11-soft-delete-missing" class="hash-link" aria-label="Direct link to 11. Soft Delete Missing" title="Direct link to 11. Soft Delete Missing">​</a></h4>
<p><strong>Issue</strong>: No soft delete implementation for critical data
<strong>Risk</strong>: Medium - Accidental data loss
<strong>Recommendation</strong>: Implement soft deletes for session and user data</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12-transaction-isolation">12. Transaction Isolation<a href="#12-transaction-isolation" class="hash-link" aria-label="Direct link to 12. Transaction Isolation" title="Direct link to 12. Transaction Isolation">​</a></h4>
<p><strong>Location</strong>: Database operations in services
<strong>Issue</strong>: Multiple related operations not wrapped in transactions
<strong>Risk</strong>: Medium - Data inconsistency on partial failures
<strong>Recommendation</strong>: Use database transactions for related operations</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-considerations">Deployment Considerations<a href="#deployment-considerations" class="hash-link" aria-label="Direct link to Deployment Considerations" title="Direct link to Deployment Considerations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="production-requirements">Production Requirements<a href="#production-requirements" class="hash-link" aria-label="Direct link to Production Requirements" title="Direct link to Production Requirements">​</a></h3>
<ul>
<li>MSSQL Database with proper indexing</li>
<li>Queue worker processes for background jobs</li>
<li>File storage with proper permissions</li>
<li>Email server configuration</li>
<li>SSL/TLS for secure communications</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization">​</a></h3>
<ul>
<li><strong>Caching</strong>: Implement Redis for session and data caching</li>
<li><strong>Database</strong>: Add proper indexes for large tables</li>
<li><strong>Queue Workers</strong>: Scale queue workers based on load</li>
<li><strong>File Storage</strong>: Use cloud storage for generated files</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring--logging">Monitoring &amp; Logging<a href="#monitoring--logging" class="hash-link" aria-label="Direct link to Monitoring &amp; Logging" title="Direct link to Monitoring &amp; Logging">​</a></h3>
<ul>
<li><strong>Application Logs</strong>: Monitor Laravel logs for errors</li>
<li><strong>Database Logs</strong>: Monitor MSSQL performance</li>
<li><strong>Queue Monitoring</strong>: Track job failures and processing times</li>
<li><strong>Email Delivery</strong>: Monitor email delivery success rates</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api--integrations">API &amp; Integrations<a href="#api--integrations" class="hash-link" aria-label="Direct link to API &amp; Integrations" title="Direct link to API &amp; Integrations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-integrations">External Integrations<a href="#external-integrations" class="hash-link" aria-label="Direct link to External Integrations" title="Direct link to External Integrations">​</a></h3>
<ul>
<li><strong>WhatsApp API (WABLAS)</strong>: Messaging service</li>
<li><strong>MSSQL Database</strong>: Stored procedure calls</li>
<li><strong>Email Services</strong>: SMTP integration</li>
<li><strong>File Storage</strong>: Local and cloud storage options</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-apis">Internal APIs<a href="#internal-apis" class="hash-link" aria-label="Direct link to Internal APIs" title="Direct link to Internal APIs">​</a></h3>
<ul>
<li>Livewire component communication</li>
<li>AJAX endpoints for search functionality</li>
<li>PDF generation endpoints</li>
<li>Image generation services</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-email-not-sending">1. Email Not Sending<a href="#1-email-not-sending" class="hash-link" aria-label="Direct link to 1. Email Not Sending" title="Direct link to 1. Email Not Sending">​</a></h4>
<ul>
<li>Check queue worker status: <code>php artisan queue:work</code></li>
<li>Verify email configuration in <code>.env</code></li>
<li>Check email logs for delivery errors</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-pdf-generation-failing">2. PDF Generation Failing<a href="#2-pdf-generation-failing" class="hash-link" aria-label="Direct link to 2. PDF Generation Failing" title="Direct link to 2. PDF Generation Failing">​</a></h4>
<ul>
<li>Verify wkhtmltopdf installation</li>
<li>Check file permissions in storage directory</li>
<li>Monitor disk space for temporary files</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-session-access-issues">3. Session Access Issues<a href="#3-session-access-issues" class="hash-link" aria-label="Direct link to 3. Session Access Issues" title="Direct link to 3. Session Access Issues">​</a></h4>
<ul>
<li>Verify user roles in database</li>
<li>Check middleware configuration</li>
<li>Validate session data integrity</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-database-connection-issues">4. Database Connection Issues<a href="#4-database-connection-issues" class="hash-link" aria-label="Direct link to 4. Database Connection Issues" title="Direct link to 4. Database Connection Issues">​</a></h4>
<ul>
<li>Verify MSSQL database connectivity</li>
<li>Check stored procedure permissions</li>
<li>Monitor database connection pool</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-file-upload-problems">5. File Upload Problems<a href="#5-file-upload-problems" class="hash-link" aria-label="Direct link to 5. File Upload Problems" title="Direct link to 5. File Upload Problems">​</a></h4>
<ul>
<li>Check file permissions</li>
<li>Verify disk space</li>
<li>Monitor upload limits in PHP configuration</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-tools">Debugging Tools<a href="#debugging-tools" class="hash-link" aria-label="Direct link to Debugging Tools" title="Direct link to Debugging Tools">​</a></h3>
<ul>
<li><strong>Laravel Debugbar</strong>: Development debugging</li>
<li><strong>Log Files</strong>: <code>storage/logs/laravel.log</code></li>
<li><strong>Queue Dashboard</strong>: Monitor background jobs</li>
<li><strong>Database Queries</strong>: Monitor slow queries</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The PMGI system is a comprehensive performance management platform with robust features for organizational evaluation processes. While the system provides extensive functionality, attention should be paid to the security vulnerabilities and performance considerations outlined in this documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="immediate-actions-recommended">Immediate Actions Recommended<a href="#immediate-actions-recommended" class="hash-link" aria-label="Direct link to Immediate Actions Recommended" title="Direct link to Immediate Actions Recommended">​</a></h3>
<ol>
<li>Address password security vulnerabilities</li>
<li>Implement proper error handling</li>
<li>Add database transactions for critical operations</li>
<li>Review and secure stored procedure calls</li>
<li>Implement comprehensive logging and monitoring</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="long-term-improvements">Long-term Improvements<a href="#long-term-improvements" class="hash-link" aria-label="Direct link to Long-term Improvements" title="Direct link to Long-term Improvements">​</a></h3>
<ol>
<li>Migrate to modern authentication systems</li>
<li>Implement comprehensive caching strategy</li>
<li>Add automated testing coverage</li>
<li>Optimize database queries and indexes</li>
<li>Implement CI/CD pipelines for deployment</li>
</ol>
<hr>
<p><em>This documentation was generated through comprehensive code analysis. Please review and update as the system evolves.</em></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/creative-system-consultant/csc-docs/docs/PMGI_SYSTEM_DOCUMENTATION.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/csc-docs/docs/sfms-docs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SSM SFMS Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/csc-docs/docs/kap-docs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kasih AP Gold Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#1-project-overview" class="table-of-contents__link toc-highlight">1. Project Overview</a><ul><li><a href="#11-system-purpose--business-logic" class="table-of-contents__link toc-highlight">1.1 System Purpose &amp; Business Logic</a></li><li><a href="#12-key-terminology--roles" class="table-of-contents__link toc-highlight">1.2 Key Terminology &amp; Roles</a></li><li><a href="#13-pmgi-evaluation-levels" class="table-of-contents__link toc-highlight">1.3 PMGi Evaluation Levels</a></li><li><a href="#14-system-workflow-overview" class="table-of-contents__link toc-highlight">1.4 System Workflow Overview</a></li></ul></li><li><a href="#2-system-architecture--design-patterns" class="table-of-contents__link toc-highlight">2. System Architecture &amp; Design Patterns</a><ul><li><a href="#21-high-level-architecture" class="table-of-contents__link toc-highlight">2.1 High-Level Architecture</a></li><li><a href="#22-directory-structure--organization" class="table-of-contents__link toc-highlight">2.2 Directory Structure &amp; Organization</a></li><li><a href="#23-design-patterns-implementation" class="table-of-contents__link toc-highlight">2.3 Design Patterns Implementation</a></li><li><a href="#24-component-communication-architecture" class="table-of-contents__link toc-highlight">2.4 Component Communication Architecture</a></li></ul></li><li><a href="#3-technology-stack--dependencies" class="table-of-contents__link toc-highlight">3. Technology Stack &amp; Dependencies</a><ul><li><a href="#31-core-framework-stack" class="table-of-contents__link toc-highlight">3.1 Core Framework Stack</a></li><li><a href="#32-frontend-technology-stack" class="table-of-contents__link toc-highlight">3.2 Frontend Technology Stack</a></li><li><a href="#33-database--storage-technologies" class="table-of-contents__link toc-highlight">3.3 Database &amp; Storage Technologies</a></li><li><a href="#34-queue--job-processing" class="table-of-contents__link toc-highlight">3.4 Queue &amp; Job Processing</a></li><li><a href="#35-external-service-dependencies" class="table-of-contents__link toc-highlight">3.5 External Service Dependencies</a></li><li><a href="#36-development--testing-tools" class="table-of-contents__link toc-highlight">3.6 Development &amp; Testing Tools</a></li></ul></li><li><a href="#4-environment-configuration" class="table-of-contents__link toc-highlight">4. Environment Configuration</a><ul><li><a href="#41-environment-variables-reference" class="table-of-contents__link toc-highlight">4.1 Environment Variables Reference</a></li><li><a href="#42-server-requirements" class="table-of-contents__link toc-highlight">4.2 Server Requirements</a></li><li><a href="#43-production-configuration" class="table-of-contents__link toc-highlight">4.3 Production Configuration</a></li><li><a href="#44-development-environment-setup" class="table-of-contents__link toc-highlight">4.4 Development Environment Setup</a></li></ul></li><li><a href="#5-database-architecture--relationships" class="table-of-contents__link toc-highlight">5. Database Architecture &amp; Relationships</a><ul><li><a href="#51-core-database-tables" class="table-of-contents__link toc-highlight">5.1 Core Database Tables</a></li><li><a href="#52-eloquent-model-relationships" class="table-of-contents__link toc-highlight">5.2 Eloquent Model Relationships</a></li><li><a href="#53-database-performance-considerations" class="table-of-contents__link toc-highlight">5.3 Database Performance Considerations</a></li></ul></li><li><a href="#user-roles--access-control" class="table-of-contents__link toc-highlight">User Roles &amp; Access Control</a><ul><li><a href="#role-structure" class="table-of-contents__link toc-highlight">Role Structure</a></li><li><a href="#access-control-implementation" class="table-of-contents__link toc-highlight">Access Control Implementation</a></li><li><a href="#permission-system" class="table-of-contents__link toc-highlight">Permission System</a></li></ul></li><li><a href="#database-structure" class="table-of-contents__link toc-highlight">Database Structure</a><ul><li><a href="#core-tables" class="table-of-contents__link toc-highlight">Core Tables</a></li><li><a href="#database-integration" class="table-of-contents__link toc-highlight">Database Integration</a></li></ul></li><li><a href="#installation--setup" class="table-of-contents__link toc-highlight">Installation &amp; Setup</a><ul><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#installation-steps" class="table-of-contents__link toc-highlight">Installation Steps</a></li><li><a href="#configuration-files" class="table-of-contents__link toc-highlight">Configuration Files</a></li></ul></li><li><a href="#security-features" class="table-of-contents__link toc-highlight">Security Features</a><ul><li><a href="#authentication-security" class="table-of-contents__link toc-highlight">Authentication Security</a></li><li><a href="#data-protection" class="table-of-contents__link toc-highlight">Data Protection</a></li><li><a href="#session-security" class="table-of-contents__link toc-highlight">Session Security</a></li></ul></li><li><a href="#email--notification-system" class="table-of-contents__link toc-highlight">Email &amp; Notification System</a><ul><li><a href="#email-features" class="table-of-contents__link toc-highlight">Email Features</a></li><li><a href="#notification-jobs" class="table-of-contents__link toc-highlight">Notification Jobs</a></li><li><a href="#whatsapp-integration" class="table-of-contents__link toc-highlight">WhatsApp Integration</a></li></ul></li><li><a href="#pdf--report-generation" class="table-of-contents__link toc-highlight">PDF &amp; Report Generation</a><ul><li><a href="#pdf-generation" class="table-of-contents__link toc-highlight">PDF Generation</a></li><li><a href="#html-to-image-service" class="table-of-contents__link toc-highlight">HTML to Image Service</a></li><li><a href="#export-features" class="table-of-contents__link toc-highlight">Export Features</a></li></ul></li><li><a href="#known-issues--potential-bugs" class="table-of-contents__link toc-highlight">Known Issues &amp; Potential Bugs</a><ul><li><a href="#️-critical-issues" class="table-of-contents__link toc-highlight">⚠️ Critical Issues</a></li><li><a href="#️-logic--flow-issues" class="table-of-contents__link toc-highlight">⚠️ Logic &amp; Flow Issues</a></li><li><a href="#️-performance-issues" class="table-of-contents__link toc-highlight">⚠️ Performance Issues</a></li><li><a href="#️-data-integrity-issues" class="table-of-contents__link toc-highlight">⚠️ Data Integrity Issues</a></li></ul></li><li><a href="#deployment-considerations" class="table-of-contents__link toc-highlight">Deployment Considerations</a><ul><li><a href="#production-requirements" class="table-of-contents__link toc-highlight">Production Requirements</a></li><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a></li><li><a href="#monitoring--logging" class="table-of-contents__link toc-highlight">Monitoring &amp; Logging</a></li></ul></li><li><a href="#api--integrations" class="table-of-contents__link toc-highlight">API &amp; Integrations</a><ul><li><a href="#external-integrations" class="table-of-contents__link toc-highlight">External Integrations</a></li><li><a href="#internal-apis" class="table-of-contents__link toc-highlight">Internal APIs</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li><li><a href="#debugging-tools" class="table-of-contents__link toc-highlight">Debugging Tools</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a><ul><li><a href="#immediate-actions-recommended" class="table-of-contents__link toc-highlight">Immediate Actions Recommended</a></li><li><a href="#long-term-improvements" class="table-of-contents__link toc-highlight">Long-term Improvements</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>