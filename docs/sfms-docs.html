<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sfms-docs" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">SSM SFMS Documentation | CSC Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://creative-system-consultant.github.io/csc-docs/img/csc-logo.png"><meta data-rh="true" name="twitter:image" content="https://creative-system-consultant.github.io/csc-docs/img/csc-logo.png"><meta data-rh="true" property="og:url" content="https://creative-system-consultant.github.io/csc-docs/docs/sfms-docs"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SSM SFMS Documentation | CSC Docs"><meta data-rh="true" name="description" content="Table of Contents"><meta data-rh="true" property="og:description" content="Table of Contents"><link data-rh="true" rel="icon" href="/csc-docs/img/csc-logo.png"><link data-rh="true" rel="canonical" href="https://creative-system-consultant.github.io/csc-docs/docs/sfms-docs"><link data-rh="true" rel="alternate" href="https://creative-system-consultant.github.io/csc-docs/docs/sfms-docs" hreflang="en"><link data-rh="true" rel="alternate" href="https://creative-system-consultant.github.io/csc-docs/docs/sfms-docs" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"SSM SFMS Documentation","item":"https://creative-system-consultant.github.io/csc-docs/docs/sfms-docs"}]}</script><link rel="alternate" type="application/rss+xml" href="/csc-docs/blog/rss.xml" title="CSC Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/csc-docs/blog/atom.xml" title="CSC Docs Atom Feed"><link rel="stylesheet" href="/csc-docs/assets/css/styles.91f21de6.css">
<script src="/csc-docs/assets/js/runtime~main.01df2112.js" defer="defer"></script>
<script src="/csc-docs/assets/js/main.2e749da9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/csc-docs/img/csc-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/csc-docs/"><div class="navbar__logo"><img src="/csc-docs/img/csc-logo.png" alt="CSC Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/csc-docs/img/csc-logo.png" alt="CSC Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">CSC Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/csc-docs/docs/sfms-docs">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/creative-system-consultant/csc-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/csc-docs/docs/sfms-docs">SSM SFMS Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csc-docs/docs/pmgi-docs">TEKUN PMGI Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csc-docs/docs/kap-docs">Kasih AP Gold Documentation</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/csc-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SSM SFMS Documentation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SFMS (Staff Financing Management System) - Complete Project Documentation</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2>
<ol>
<li><a href="#project-overview">Project Overview</a></li>
<li><a href="#system-architecture">System Architecture</a></li>
<li><a href="#database-structure">Database Structure</a></li>
<li><a href="#api-integrations">API Integrations</a></li>
<li><a href="#livewire-components">Livewire Components</a></li>
<li><a href="#job-processing--file-handling">Job Processing &amp; File Handling</a></li>
<li><a href="#authentication--security">Authentication &amp; Security</a></li>
<li><a href="#deployment--configuration">Deployment &amp; Configuration</a></li>
<li><a href="#critical-issues--security-vulnerabilities">Critical Issues &amp; Security Vulnerabilities</a></li>
<li><a href="#development-guide">Development Guide</a></li>
<li><a href="#maintenance--troubleshooting">Maintenance &amp; Troubleshooting</a></li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview">Project Overview<a href="#project-overview" class="hash-link" aria-label="Direct link to Project Overview" title="Direct link to Project Overview">​</a></h2>
<p>SFMS is a Laravel 11-based web application for managing staff financing operations at SSM (Companies Commission of Malaysia). The system handles various types of staff loans, third-party financing arrangements, payment processing, and comprehensive reporting.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h3>
<ul>
<li><strong>Staff Information Management</strong>: Central database of staff and their financing arrangements</li>
<li><strong>Loan Processing</strong>: Disbursement, receipting, and settlement operations</li>
<li><strong>Third-Party Financing</strong>: Integration with external financing partners</li>
<li><strong>Autopay Processing</strong>: Automated payroll deduction via Excel file uploads</li>
<li><strong>Comprehensive Reporting</strong>: Various financial reports with PDF/Excel export</li>
<li><strong>API Integration</strong>: External payroll systems (APE/APPE) integration</li>
<li><strong>Real-time Processing</strong>: Server-Sent Events for long-running operations</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="technology-stack">Technology Stack<a href="#technology-stack" class="hash-link" aria-label="Direct link to Technology Stack" title="Direct link to Technology Stack">​</a></h3>
<ul>
<li><strong>Backend</strong>: Laravel 11.31, PHP 8.2+</li>
<li><strong>Frontend</strong>: Livewire 3.5, WireUI 2.2, TailwindCSS 3.4</li>
<li><strong>Database</strong>: SQL Server (primary), SQLite (testing)</li>
<li><strong>Queue System</strong>: Database-driven with job processing</li>
<li><strong>File Processing</strong>: PhpSpreadsheet for Excel, DomPDF for reports</li>
<li><strong>Assets</strong>: Vite for bundling, Sass for preprocessing</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-architecture">System Architecture<a href="#system-architecture" class="hash-link" aria-label="Direct link to System Architecture" title="Direct link to System Architecture">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-structure">Application Structure<a href="#application-structure" class="hash-link" aria-label="Direct link to Application Structure" title="Direct link to Application Structure">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Events/          # Server-Sent Events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Exports/         # Excel export classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Http/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Controllers/ # Traditional controllers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Livewire/    # Legacy Livewire structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Jobs/            # Background job processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Livewire/        # Main Livewire components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Auth/        # Authentication components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Module/      # Business logic modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Cif/     # Customer Information File</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Report/  # Reporting components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Teller/  # Teller operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Models/          # Eloquent models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Providers/       # Service providers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Services/        # Business logic services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── States/          # State management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Traits/          # Reusable traits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── View/           # View components</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="module-organization">Module Organization<a href="#module-organization" class="hash-link" aria-label="Direct link to Module Organization" title="Direct link to Module Organization">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cif-customer-information-file-module">CIF (Customer Information File) Module<a href="#cif-customer-information-file-module" class="hash-link" aria-label="Direct link to CIF (Customer Information File) Module" title="Direct link to CIF (Customer Information File) Module">​</a></h4>
<ul>
<li><strong>Purpose</strong>: Staff and account information management</li>
<li><strong>Components</strong>: Index, FinancingListing, AccountInformation, ThirdPartyInformation</li>
<li><strong>Features</strong>: Staff search, account details, financing history</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="teller-module">Teller Module<a href="#teller-module" class="hash-link" aria-label="Direct link to Teller Module" title="Direct link to Teller Module">​</a></h4>
<ul>
<li><strong>Purpose</strong>: Financial transaction processing</li>
<li><strong>Components</strong>: Disbursement, Receipting, UploadAutopay, EarlySettlement</li>
<li><strong>Features</strong>: Payment processing, file uploads, transaction validation</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="report-module">Report Module<a href="#report-module" class="hash-link" aria-label="Direct link to Report Module" title="Direct link to Report Module">​</a></h4>
<ul>
<li><strong>Purpose</strong>: Financial reporting and analysis</li>
<li><strong>Components</strong>: Various report generators with export capabilities</li>
<li><strong>Features</strong>: PDF/Excel exports, data visualization, filtered reporting</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-structure">Database Structure<a href="#database-structure" class="hash-link" aria-label="Direct link to Database Structure" title="Direct link to Database Structure">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-tables">Core Tables<a href="#core-tables" class="hash-link" aria-label="Direct link to Core Tables" title="Direct link to Core Tables">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="user-management">User Management<a href="#user-management" class="hash-link" aria-label="Direct link to User Management" title="Direct link to User Management">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Standard Laravel users table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">users </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timestamps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- SFMS-specific user table (passwordless authentication)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">users_sfms </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user_ic</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> last_modified_date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> last_modified_user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Staff information (external table)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tbl_userinfo </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nokp </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">IC</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nama </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="financial-core">Financial Core<a href="#financial-core" class="hash-link" aria-label="Direct link to Financial Core" title="Direct link to Financial Core">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Main account management</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ACCOUNT_MASTER </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACCOUNT_NO </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    STAFF_IC </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">FK </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tbl_userinfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nokp</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PRODUCT_CODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PRODUCT_SUB_CODE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    APPROVED_LIMIT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACCOUNT_STATUS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dates </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> financial </span><span class="token keyword" style="color:#00009f">fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Account positions and balances</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ACCOUNT_POSITION </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACCOUNT_NO </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">FK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNDRAWN_AMOUNT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DISBURSED_AMOUNT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    REPORT_DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">balance </span><span class="token keyword" style="color:#00009f">fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-financing">Third-Party Financing<a href="#third-party-financing" class="hash-link" aria-label="Direct link to Third-Party Financing" title="Direct link to Third-Party Financing">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Reference codes for agencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">thirdparty_refcode </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CODE </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agency_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Third-party financing records</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">thirdparty_list </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    staff_ic </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">FK </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tbl_userinfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nokp</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agency_code </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">FK </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> thirdparty_refcode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CODE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    account_no</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    approved_amount</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">financing details</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="job-processing">Job Processing<a href="#job-processing" class="hash-link" aria-label="Direct link to Job Processing" title="Direct link to Job Processing">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Autopay processing results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">autopay_job_results </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    processing_id </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">unique</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result_data </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">JSON</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Temporary autopay data with expiration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">autopay_data </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    processing_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data_type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">JSON</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expires_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">processing_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="model-relationships">Model Relationships<a href="#model-relationships" class="hash-link" aria-label="Direct link to Model Relationships" title="Direct link to Model Relationships">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Key relationships</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UserInfo::class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hasMany(AccountMaster::class, &#x27;STAFF_IC&#x27;, &#x27;nokp&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── hasMany(ThirdpartyList::class, &#x27;staff_ic&#x27;, &#x27;nokp&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AccountMaster::class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hasOne(AccountPosition::class, &#x27;ACCOUNT_NO&#x27;, &#x27;ACCOUNT_NO&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hasOne(BbaFinanceProduct::class, &#x27;product_code&#x27;, &#x27;PRODUCT_CODE&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── belongsTo(UserInfo::class, &#x27;nokp&#x27;, &#x27;STAFF_IC&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ThirdpartyList::class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── belongsTo(ThirdpartyRefcode::class, &#x27;CODE&#x27;, &#x27;agency_code&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── belongsTo(UserInfo::class, &#x27;nokp&#x27;, &#x27;staff_ic&#x27;)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-database-issues-identified">⚠️ Database Issues Identified<a href="#️-database-issues-identified" class="hash-link" aria-label="Direct link to ⚠️ Database Issues Identified" title="Direct link to ⚠️ Database Issues Identified">​</a></h3>
<ol>
<li><strong>Missing Foreign Key Constraints</strong>: Not all relationships have proper database constraints</li>
<li><strong>Inconsistent Naming</strong>: Mixed UPPER_CASE and snake_case conventions</li>
<li><strong>Missing Timestamps</strong>: Some models have <code>$timestamps = false</code></li>
<li><strong>Weak Primary Keys</strong>: Some models don&#x27;t explicitly define primary keys</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-integrations">API Integrations<a href="#api-integrations" class="hash-link" aria-label="Direct link to API Integrations" title="Direct link to API Integrations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="apeappe-api-services">APE/APPE API Services<a href="#apeappe-api-services" class="hash-link" aria-label="Direct link to APE/APPE API Services" title="Direct link to APE/APPE API Services">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="apeapiservice">ApeApiService<a href="#apeapiservice" class="hash-link" aria-label="Direct link to ApeApiService" title="Direct link to ApeApiService">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// OAuth2 authentication flow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected function getAccessToken(): ?string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $tokenResponse = Http::withoutVerifying() // ⚠️ SSL VERIFICATION DISABLED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -&gt;withBasicAuth($this-&gt;clientId, $this-&gt;clientSecret)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -&gt;asForm()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -&gt;post($this-&gt;tokenUrl, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;grant_type&#x27; =&gt; &#x27;client_credentials&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;scope&#x27; =&gt; &#x27;Example_scope_1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return $tokenData[&#x27;access_token&#x27;] ?? null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Payroll processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function processPayroll(array $data): array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $accessToken = $this-&gt;getAccessToken();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $response = Http::withoutVerifying() // ⚠️ SSL VERIFICATION DISABLED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -&gt;withToken($accessToken)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -&gt;withHeaders([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;X-IBM-Client-Id&#x27; =&gt; $this-&gt;clientId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;Content-Type&#x27; =&gt; &#x27;application/json&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -&gt;post($this-&gt;baseUrl . &#x27;/Payroll?vendorType=ebsk&#x27;, $formattedData);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h4>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_BASE_URL=https://integrasiapistg.ssm4u.com.my:9444/ssm/ssm4u/release/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_TOKEN_URL=https://integrasiapistg.ssm4u.com.my:8443/ssm/ssm4u/oauthtest/oauth2/token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_CLIENT_ID=your_client_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_CLIENT_SECRET=your_client_secret</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-api-security-issues">⚠️ API Security Issues<a href="#️-api-security-issues" class="hash-link" aria-label="Direct link to ⚠️ API Security Issues" title="Direct link to ⚠️ API Security Issues">​</a></h3>
<ol>
<li><strong>SSL Verification Disabled</strong>: <code>Http::withoutVerifying()</code> bypasses certificate validation</li>
<li><strong>No Token Caching</strong>: New tokens requested for every API call</li>
<li><strong>Missing Rate Limiting</strong>: No protection against API rate limits</li>
<li><strong>Credential Exposure</strong>: Client secrets logged in debug mode</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="livewire-components">Livewire Components<a href="#livewire-components" class="hash-link" aria-label="Direct link to Livewire Components" title="Direct link to Livewire Components">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="component-architecture">Component Architecture<a href="#component-architecture" class="hash-link" aria-label="Direct link to Component Architecture" title="Direct link to Component Architecture">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-components">Authentication Components<a href="#authentication-components" class="hash-link" aria-label="Direct link to Authentication Components" title="Direct link to Authentication Components">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Standard Livewire authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Login extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[Validate(&#x27;required|email&#x27;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string $email = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[Validate(&#x27;required&#x27;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string $password = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function authenticate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;validate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Auth::attempt([&#x27;email&#x27; =&gt; $this-&gt;email, &#x27;password&#x27; =&gt; $this-&gt;password])) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return redirect()-&gt;intended();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;addError(&#x27;email&#x27;, &#x27;Invalid credentials&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cif-components">CIF Components<a href="#cif-components" class="hash-link" aria-label="Direct link to CIF Components" title="Direct link to CIF Components">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Staff search with multi-table lookup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Index extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use WithPagination;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $searchType = &#x27;staff_name&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $searchTerm = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function render()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $query = UserInfo::query()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -&gt;select(&#x27;tbl_userinfo.nokp as staff_ic&#x27;, &#x27;tbl_userinfo.nama as staff_name&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!empty($this-&gt;searchTerm)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Search across multiple tables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $accountMasterStaffIcs = AccountMaster::where(&#x27;ACCOUNT_NO&#x27;, &#x27;like&#x27;, &#x27;%&#x27; . $this-&gt;searchTerm . &#x27;%&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;pluck(&#x27;STAFF_IC&#x27;)-&gt;toArray();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $thirdPartyStaffIcs = ThirdpartyList::where(&#x27;account_no&#x27;, &#x27;like&#x27;, &#x27;%&#x27; . $this-&gt;searchTerm . &#x27;%&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                -&gt;pluck(&#x27;staff_ic&#x27;)-&gt;toArray();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $accountStaffIcs = array_unique(array_merge($accountMasterStaffIcs, $thirdPartyStaffIcs));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $query-&gt;where(function($q) use ($searchTerm, $accountStaffIcs) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $q-&gt;where(&#x27;tbl_userinfo.nama&#x27;, &#x27;like&#x27;, &#x27;%&#x27; . $searchTerm . &#x27;%&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  -&gt;orWhere(&#x27;tbl_userinfo.nokp&#x27;, &#x27;like&#x27;, &#x27;%&#x27; . $searchTerm . &#x27;%&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (!empty($accountStaffIcs)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $q-&gt;orWhereIn(&#x27;tbl_userinfo.nokp&#x27;, $accountStaffIcs);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return view(&#x27;livewire.module.cif.index&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;staffRecords&#x27; =&gt; $query-&gt;paginate(10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="teller-components">Teller Components<a href="#teller-components" class="hash-link" aria-label="Direct link to Teller Components" title="Direct link to Teller Components">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Disbursement processing with stored procedures</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Disbursement extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use WireUiActions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function submitProcess()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $pdo = DB::connection(&#x27;sqlsrv&#x27;)-&gt;getPdo();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ⚠️ POTENTIAL SQL INJECTION RISK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $stmt = $pdo-&gt;prepare(&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DECLARE @return_value INT;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                EXEC @return_value = dbo.up_tlr_trx_onl_3610 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    @account_no = ?, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    @txn_amt = ?, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    @doc_no = ?, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    @txn_date = ?;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SELECT @return_value AS return_value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $stmt-&gt;execute([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;accNo,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)str_replace(&#x27;,&#x27;, &#x27;&#x27;, $this-&gt;txnAmt),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;docNo,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;txnDate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Complex result handling for stored procedures</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $returnValue = -1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            do {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if ($stmt-&gt;columnCount() &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $result = $stmt-&gt;fetch(PDO::FETCH_OBJ);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if ($result &amp;&amp; property_exists($result, &#x27;return_value&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        $returnValue = (int)$result-&gt;return_value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } while ($stmt-&gt;nextRowset());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($returnValue === 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;notification()-&gt;success(&#x27;Transaction Successful&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $this-&gt;notification()-&gt;error(&#x27;Transaction Failed&#x27;, &#x27;Error Code: &#x27; . $returnValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (\Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;notification()-&gt;error(&#x27;System Error&#x27;, $e-&gt;getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-upload-with-real-time-progress">File Upload with Real-time Progress<a href="#file-upload-with-real-time-progress" class="hash-link" aria-label="Direct link to File Upload with Real-time Progress" title="Direct link to File Upload with Real-time Progress">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class UploadAutopay extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use WithFileUploads, WireUiActions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $files = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string $currentStep = &#x27;upload&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string $processingId = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool $isProcessing = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function processFiles()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ⚠️ PREDICTABLE ID GENERATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;processingId = uniqid(&#x27;autopay_&#x27;, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Dispatch job for file processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ProcessAutopayFiles::dispatch(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;files,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;folderPath,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;getId()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;currentStep = &#x27;processing&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;js(&#x27;$wire.startProgressMonitoring()&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Real-time progress monitoring via SSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function startProgressMonitoring()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $this-&gt;js(&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const eventSource = new EventSource(&#x27;/sse/stream/{$this-&gt;processingId}&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            eventSource.onmessage = function(event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                const data = JSON.parse(event.data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (data.status === &#x27;completed&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    @this.handleProcessingComplete(data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-component-security-issues">⚠️ Component Security Issues<a href="#️-component-security-issues" class="hash-link" aria-label="Direct link to ⚠️ Component Security Issues" title="Direct link to ⚠️ Component Security Issues">​</a></h3>
<ol>
<li><strong>SQL Injection</strong>: Direct stored procedure execution with user input</li>
<li><strong>File Upload Security</strong>: Insufficient validation and security measures</li>
<li><strong>XSS Risk</strong>: Potential cross-site scripting in user input handling</li>
<li><strong>Mass Assignment</strong>: Some models use <code>$guarded = []</code></li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="job-processing--file-handling">Job Processing &amp; File Handling<a href="#job-processing--file-handling" class="hash-link" aria-label="Direct link to Job Processing &amp; File Handling" title="Direct link to Job Processing &amp; File Handling">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="job-classes">Job Classes<a href="#job-classes" class="hash-link" aria-label="Direct link to Job Classes" title="Direct link to Job Classes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="processautopayfiles">ProcessAutopayFiles<a href="#processautopayfiles" class="hash-link" aria-label="Direct link to ProcessAutopayFiles" title="Direct link to ProcessAutopayFiles">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class ProcessAutopayFiles implements ShouldQueue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function handle()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach ($this-&gt;files as $file) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // ⚠️ INSUFFICIENT FILE VALIDATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $allowedExtensions = [&#x27;xls&#x27;, &#x27;xlsx&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $fileExtension = strtolower(pathinfo($file[&#x27;name&#x27;], PATHINFO_EXTENSION));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (!in_array($fileExtension, $allowedExtensions)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throw new \Exception(&quot;Invalid file type: {$fileExtension}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Process Excel file and extract transaction codes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $transactionCodes = $this-&gt;extractTransactionCodes($file[&#x27;path&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Store results for UI updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                AutopayJobResult::create([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;processing_id&#x27; =&gt; $this-&gt;processingId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;result_data&#x27; =&gt; json_encode([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &#x27;transaction_codes&#x27; =&gt; $transactionCodes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &#x27;valid_files&#x27; =&gt; [$file]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (\Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Log::channel(&#x27;upload-autopay&#x27;)-&gt;error(&#x27;ProcessAutopayFiles failed&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;error&#x27; =&gt; $e-&gt;getMessage(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;processing_id&#x27; =&gt; $this-&gt;processingId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw $e;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="processautopayaccounts">ProcessAutopayAccounts<a href="#processautopayaccounts" class="hash-link" aria-label="Direct link to ProcessAutopayAccounts" title="Direct link to ProcessAutopayAccounts">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class ProcessAutopayAccounts implements ShouldQueue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $tries = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $backoff = [60, 120, 300]; // Exponential backoff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $timeout = 1800; // 30 minutes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function handle()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DB::beginTransaction();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ⚠️ POTENTIAL MEMORY ISSUES WITH LARGE DATASETS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $records = collect($this-&gt;records);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $totalRecords = $records-&gt;count();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $processedRecords = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach ($records as $record) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // ⚠️ RAW SQL EXECUTION WITH USER DATA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DB::statement(&#x27;EXEC [dbo].[up_tlr_trx_onl_3800] ?, ?, ?, ?, ?, ?, ?, ?, ?, ?&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $record[&#x27;accountNo&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $record[&#x27;amount&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;3810&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $record[&#x27;docNo&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // ... other parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $processedRecords++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Update progress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if ($processedRecords % 10 === 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    $this-&gt;updateProgress($processedRecords, $totalRecords);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DB::commit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (\Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DB::rollBack();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw $e;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-processing-service">File Processing Service<a href="#file-processing-service" class="hash-link" aria-label="Direct link to File Processing Service" title="Direct link to File Processing Service">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class FileProcessingService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function validateFile($file): bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ⚠️ WEAK FILE VALIDATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $allowedExtensions = [&#x27;xls&#x27;, &#x27;xlsx&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $maxSize = 10 * 1024 * 1024; // 10MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $extension = strtolower(pathinfo($file-&gt;getClientOriginalName(), PATHINFO_EXTENSION));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!in_array($extension, $allowedExtensions)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new \Exception(&#x27;Invalid file type&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($file-&gt;getSize() &gt; $maxSize) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new \Exception(&#x27;File too large&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function processExcelFile($filePath): array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ⚠️ ENTIRE FILE LOADED INTO MEMORY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $spreadsheet = IOFactory::load($filePath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $worksheets = $spreadsheet-&gt;getAllWorksheets();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $transactionCodes = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach ($worksheets as $worksheet) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $sheetTitle = $worksheet-&gt;getTitle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $codes = $this-&gt;extractTransactionCode($sheetTitle);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $transactionCodes = array_merge($transactionCodes, $codes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return array_unique($transactionCodes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-file-processing-issues">⚠️ File Processing Issues<a href="#️-file-processing-issues" class="hash-link" aria-label="Direct link to ⚠️ File Processing Issues" title="Direct link to ⚠️ File Processing Issues">​</a></h3>
<ol>
<li><strong>Insufficient Validation</strong>: Only checks file extensions, not content</li>
<li><strong>Memory Issues</strong>: Large files loaded entirely into memory</li>
<li><strong>Security Risks</strong>: No malware scanning or content validation</li>
<li><strong>Path Traversal</strong>: Potential directory traversal vulnerabilities</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication--security">Authentication &amp; Security<a href="#authentication--security" class="hash-link" aria-label="Direct link to Authentication &amp; Security" title="Direct link to Authentication &amp; Security">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-implementation">Authentication Implementation<a href="#authentication-implementation" class="hash-link" aria-label="Direct link to Authentication Implementation" title="Direct link to Authentication Implementation">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="️-critical-passwordless-authentication">⚠️ CRITICAL: Passwordless Authentication<a href="#️-critical-passwordless-authentication" class="hash-link" aria-label="Direct link to ⚠️ CRITICAL: Passwordless Authentication" title="Direct link to ⚠️ CRITICAL: Passwordless Authentication">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// UserSfms model - NO PASSWORD VERIFICATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class UserSfms extends Authenticatable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $table = &#x27;users_sfms&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function getAuthPassword()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null; // ⚠️ NO PASSWORD IN THIS TABLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Login controller - AUTHENTICATION BYPASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class LoginController extends Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function authenticate(Request $request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $icno = $request-&gt;input(&#x27;icno&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ⚠️ DIRECT LOGIN WITHOUT PASSWORD VERIFICATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $user = UserSfms::where(&#x27;user_ic&#x27;, $icno)-&gt;first();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($user) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Auth::login($user); // ⚠️ NO CREDENTIAL VALIDATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return redirect()-&gt;intended();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return back()-&gt;withErrors([&#x27;icno&#x27; =&gt; &#x27;Invalid IC number&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="coldfusion-integration">ColdFusion Integration<a href="#coldfusion-integration" class="hash-link" aria-label="Direct link to ColdFusion Integration" title="Direct link to ColdFusion Integration">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class ColdFusionAuthController extends Controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function authenticate($token)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $key = config(&#x27;app.cf_encryption_key&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ⚠️ WEAK IV GENERATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $iv = substr(hash(&#x27;sha256&#x27;, $key, true), 0, 16);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $decrypted = openssl_decrypt(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                base64_decode($token),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;AES-256-CBC&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                $iv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if ($decrypted === false) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                abort(403, &#x27;Invalid token&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // ⚠️ NO TOKEN EXPIRY OR REPLAY PROTECTION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $icno = trim($decrypted);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $user = UserSfms::where(&#x27;user_ic&#x27;, $icno)-&gt;firstOr(function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                abort(403, &#x27;User not found&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Auth::login($user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return redirect(&#x27;/&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (\Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Log::error(&#x27;ColdFusion auth failed&#x27;, [&#x27;error&#x27; =&gt; $e-&gt;getMessage()]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            abort(403, &#x27;Authentication failed&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-configuration">Security Configuration<a href="#security-configuration" class="hash-link" aria-label="Direct link to Security Configuration" title="Direct link to Security Configuration">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="session-configuration">Session Configuration<a href="#session-configuration" class="hash-link" aria-label="Direct link to Session Configuration" title="Direct link to Session Configuration">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// config/session.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;driver&#x27; =&gt; env(&#x27;SESSION_DRIVER&#x27;, &#x27;database&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;lifetime&#x27; =&gt; env(&#x27;SESSION_LIFETIME&#x27;, 120),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;expire_on_close&#x27; =&gt; env(&#x27;SESSION_EXPIRE_ON_CLOSE&#x27;, false),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;encrypt&#x27; =&gt; env(&#x27;SESSION_ENCRYPT&#x27;, false), // ⚠️ ENCRYPTION DISABLED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;files&#x27; =&gt; storage_path(&#x27;framework/sessions&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;connection&#x27; =&gt; env(&#x27;SESSION_CONNECTION&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;table&#x27; =&gt; env(&#x27;SESSION_TABLE&#x27;, &#x27;sessions&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;store&#x27; =&gt; env(&#x27;SESSION_STORE&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;lottery&#x27; =&gt; [2, 100],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;cookie&#x27; =&gt; env(&#x27;SESSION_COOKIE&#x27;, &#x27;laravel_session&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;path&#x27; =&gt; env(&#x27;SESSION_PATH&#x27;, &#x27;/&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;domain&#x27; =&gt; env(&#x27;SESSION_DOMAIN&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;secure&#x27; =&gt; env(&#x27;SESSION_SECURE_COOKIE&#x27;), // ⚠️ ENVIRONMENT DEPENDENT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;http_only&#x27; =&gt; env(&#x27;SESSION_HTTP_ONLY&#x27;, true),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;same_site&#x27; =&gt; env(&#x27;SESSION_SAME_SITE&#x27;, &#x27;lax&#x27;),</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="️-missing-security-middleware">⚠️ Missing Security Middleware<a href="#️-missing-security-middleware" class="hash-link" aria-label="Direct link to ⚠️ Missing Security Middleware" title="Direct link to ⚠️ Missing Security Middleware">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// routes/web.php - ROUTES WITHOUT AUTHENTICATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/&#x27;, Home::class)-&gt;name(&#x27;home&#x27;); // ⚠️ NO AUTH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/cif/index&#x27;, CifIndex::class)-&gt;name(&#x27;cif.index&#x27;); // ⚠️ NO AUTH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/teller/disbursement&#x27;, Disbursement::class)-&gt;name(&#x27;teller.disbursement&#x27;); // ⚠️ NO AUTH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/report/*&#x27;, ...); // ⚠️ NO AUTH ON SENSITIVE REPORTS</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-critical-security-vulnerabilities">⚠️ Critical Security Vulnerabilities<a href="#️-critical-security-vulnerabilities" class="hash-link" aria-label="Direct link to ⚠️ Critical Security Vulnerabilities" title="Direct link to ⚠️ Critical Security Vulnerabilities">​</a></h3>
<ol>
<li><strong>Authentication Bypass</strong>: IC number-only login</li>
<li><strong>Missing Authorization</strong>: Most routes lack authentication</li>
<li><strong>Weak Cryptography</strong>: Predictable IV in ColdFusion auth</li>
<li><strong>Session Security</strong>: Unencrypted sessions</li>
<li><strong>CSRF Vulnerability</strong>: No CSRF protection verification</li>
<li><strong>Information Disclosure</strong>: Sensitive data in logs</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment--configuration">Deployment &amp; Configuration<a href="#deployment--configuration" class="hash-link" aria-label="Direct link to Deployment &amp; Configuration" title="Direct link to Deployment &amp; Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-requirements">Environment Requirements<a href="#environment-requirements" class="hash-link" aria-label="Direct link to Environment Requirements" title="Direct link to Environment Requirements">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="server-requirements">Server Requirements<a href="#server-requirements" class="hash-link" aria-label="Direct link to Server Requirements" title="Direct link to Server Requirements">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># PHP Requirements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PHP 8.2+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Extensions: PDO, pdo_sqlsrv, mbstring, xml, json, curl, fileinfo, zip, gd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Web Server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache 2.4+ or Nginx 1.18+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SQL Server 2016+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Node.js (for asset compilation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Node.js 18+</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment-configuration">Environment Configuration<a href="#environment-configuration" class="hash-link" aria-label="Direct link to Environment Configuration" title="Direct link to Environment Configuration">​</a></h4>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_NAME=SFMS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_ENV=production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_KEY=base64:generated_key_here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_DEBUG=false # ⚠️ ENSURE FALSE IN PRODUCTION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_URL=https://your-domain.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_CONNECTION=sqlsrv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_HOST=your_sql_server_host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PORT=1433</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_DATABASE=ebsk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_USERNAME=your_db_username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PASSWORD=your_db_password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Queue &amp; Cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">QUEUE_CONNECTION=database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CACHE_STORE=database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Mail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_MAILER=smtp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_HOST=your_smtp_server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_PORT=587</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_USERNAME=your_email@domain.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAIL_PASSWORD=your_email_password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># API Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_BASE_URL=https://integrasiapistg.ssm4u.com.my:9444/ssm/ssm4u/release/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_CLIENT_ID=your_client_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_CLIENT_SECRET=your_client_secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APPE_API_TOKEN_URL=https://integrasiapistg.ssm4u.com.my:8443/ssm/ssm4u/oauthtest/oauth2/token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Security</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CF_ENCRYPTION_KEY=your_coldfusion_encryption_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SESSION_SECURE_COOKIE=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SESSION_ENCRYPT=true # ⚠️ ENABLE IN PRODUCTION</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-steps">Deployment Steps<a href="#deployment-steps" class="hash-link" aria-label="Direct link to Deployment Steps" title="Direct link to Deployment Steps">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Clone and setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone [repository-url]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd sfms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">composer install --optimize-autoloader --no-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Build assets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. Configure environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.example .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Edit .env with production values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 5. Generate key and run migrations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan key:generate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 6. Create storage symlink</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan storage:link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 7. Optimize for production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan config:cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan route:cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan view:cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 8. Set permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod -R 755 storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod -R 755 bootstrap/cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 9. Start queue workers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan queue:work --tries=3 --daemon</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-deployment-security-issues">⚠️ Deployment Security Issues<a href="#️-deployment-security-issues" class="hash-link" aria-label="Direct link to ⚠️ Deployment Security Issues" title="Direct link to ⚠️ Deployment Security Issues">​</a></h3>
<ol>
<li><strong>Debug Mode</strong>: Ensure <code>APP_DEBUG=false</code> in production</li>
<li><strong>File Permissions</strong>: Some permissions may be too permissive</li>
<li><strong>Environment Variables</strong>: Sensitive data in plain text</li>
<li><strong>SSL Configuration</strong>: No forced HTTPS redirection</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="critical-issues--security-vulnerabilities">Critical Issues &amp; Security Vulnerabilities<a href="#critical-issues--security-vulnerabilities" class="hash-link" aria-label="Direct link to Critical Issues &amp; Security Vulnerabilities" title="Direct link to Critical Issues &amp; Security Vulnerabilities">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="critical-severity-issues">Critical Severity Issues<a href="#critical-severity-issues" class="hash-link" aria-label="Direct link to Critical Severity Issues" title="Direct link to Critical Severity Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-authentication-bypass-critical">1. Authentication Bypass (CRITICAL)<a href="#1-authentication-bypass-critical" class="hash-link" aria-label="Direct link to 1. Authentication Bypass (CRITICAL)" title="Direct link to 1. Authentication Bypass (CRITICAL)">​</a></h4>
<p><strong>Location</strong>: <code>app/Http/Controllers/Auth/LoginController.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ CRITICAL: No password verification</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function authenticate(Request $request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $icno = $request-&gt;input(&#x27;icno&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $user = UserSfms::where(&#x27;user_ic&#x27;, $icno)-&gt;first();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ($user) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Auth::login($user); // Direct login without credential validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return redirect()-&gt;intended();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Anyone with a valid IC number can access the system
<strong>Fix</strong>: Implement proper password-based authentication</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-missing-authentication-on-routes-critical">2. Missing Authentication on Routes (CRITICAL)<a href="#2-missing-authentication-on-routes-critical" class="hash-link" aria-label="Direct link to 2. Missing Authentication on Routes (CRITICAL)" title="Direct link to 2. Missing Authentication on Routes (CRITICAL)">​</a></h4>
<p><strong>Location</strong>: <code>routes/web.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ CRITICAL: Sensitive routes without authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/cif/index&#x27;, CifIndex::class)-&gt;name(&#x27;cif.index&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/teller/disbursement&#x27;, Disbursement::class)-&gt;name(&#x27;teller.disbursement&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Route::get(&#x27;/report/*&#x27;, ...); // All report routes</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Unauthorized access to sensitive financial data
<strong>Fix</strong>: Add authentication middleware to all protected routes</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-ssl-verification-disabled-critical">3. SSL Verification Disabled (CRITICAL)<a href="#3-ssl-verification-disabled-critical" class="hash-link" aria-label="Direct link to 3. SSL Verification Disabled (CRITICAL)" title="Direct link to 3. SSL Verification Disabled (CRITICAL)">​</a></h4>
<p><strong>Location</strong>: <code>app/Services/ApeApiService.php</code>, <code>app/Services/AppeApiService.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ CRITICAL: SSL verification bypassed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$tokenResponse = Http::withoutVerifying()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;withBasicAuth($this-&gt;clientId, $this-&gt;clientSecret)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -&gt;post($this-&gt;tokenUrl, $data);</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Man-in-the-middle attacks on API communications
<strong>Fix</strong>: Enable SSL verification and configure proper certificates</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-sql-injection-risk-critical">4. SQL Injection Risk (CRITICAL)<a href="#4-sql-injection-risk-critical" class="hash-link" aria-label="Direct link to 4. SQL Injection Risk (CRITICAL)" title="Direct link to 4. SQL Injection Risk (CRITICAL)">​</a></h4>
<p><strong>Location</strong>: <code>app/Jobs/ProcessAutopayAccounts.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ CRITICAL: Raw SQL with user input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB::statement(&#x27;EXEC [dbo].[up_tlr_trx_onl_3800] ?, ?, ?, ?, ?, ?, ?, ?, ?, ?&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $record[&#x27;accountNo&#x27;], // User-controlled data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $record[&#x27;amount&#x27;],    // User-controlled data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Potential database compromise
<strong>Fix</strong>: Implement strict input validation and type checking</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="high-severity-issues">High Severity Issues<a href="#high-severity-issues" class="hash-link" aria-label="Direct link to High Severity Issues" title="Direct link to High Severity Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-weak-cryptography-high">5. Weak Cryptography (HIGH)<a href="#5-weak-cryptography-high" class="hash-link" aria-label="Direct link to 5. Weak Cryptography (HIGH)" title="Direct link to 5. Weak Cryptography (HIGH)">​</a></h4>
<p><strong>Location</strong>: <code>app/Http/Controllers/Auth/ColdFusionAuthController.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ HIGH: Predictable IV generation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$key = config(&#x27;app.cf_encryption_key&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$iv = substr(hash(&#x27;sha256&#x27;, $key, true), 0, 16); // Predictable IV</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Encryption can be broken
<strong>Fix</strong>: Use random IV generation</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-file-upload-security-high">6. File Upload Security (HIGH)<a href="#6-file-upload-security-high" class="hash-link" aria-label="Direct link to 6. File Upload Security (HIGH)" title="Direct link to 6. File Upload Security (HIGH)">​</a></h4>
<p><strong>Location</strong>: <code>app/Services/FileProcessingService.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ HIGH: Insufficient file validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$allowedExtensions = [&#x27;xls&#x27;, &#x27;xlsx&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$fileExtension = strtolower(pathinfo($file, PATHINFO_EXTENSION));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// No MIME type or content validation</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Malicious file uploads
<strong>Fix</strong>: Implement comprehensive file validation</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-information-disclosure-high">7. Information Disclosure (HIGH)<a href="#7-information-disclosure-high" class="hash-link" aria-label="Direct link to 7. Information Disclosure (HIGH)" title="Direct link to 7. Information Disclosure (HIGH)">​</a></h4>
<p><strong>Location</strong>: <code>app/Services/ApeApiService.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ HIGH: Sensitive data in logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Log::channel(&#x27;ape-api&#x27;)-&gt;error(&#x27;APE API ERROR&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;client_id&#x27; =&gt; $this-&gt;clientId, // Sensitive information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;response&#x27; =&gt; $tokenResponse-&gt;body() // May contain secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: Credential exposure in logs
<strong>Fix</strong>: Sanitize logs to remove sensitive data</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="medium-severity-issues">Medium Severity Issues<a href="#medium-severity-issues" class="hash-link" aria-label="Direct link to Medium Severity Issues" title="Direct link to Medium Severity Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="8-unencrypted-sessions-medium">8. Unencrypted Sessions (MEDIUM)<a href="#8-unencrypted-sessions-medium" class="hash-link" aria-label="Direct link to 8. Unencrypted Sessions (MEDIUM)" title="Direct link to 8. Unencrypted Sessions (MEDIUM)">​</a></h4>
<p><strong>Location</strong>: <code>config/session.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ MEDIUM: Sessions not encrypted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;encrypt&#x27; =&gt; env(&#x27;SESSION_ENCRYPT&#x27;, false),</span><br></span></code></pre></div></div>
<p><strong>Fix</strong>: Set <code>SESSION_ENCRYPT=true</code> in production</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="9-missing-csrf-protection-medium">9. Missing CSRF Protection (MEDIUM)<a href="#9-missing-csrf-protection-medium" class="hash-link" aria-label="Direct link to 9. Missing CSRF Protection (MEDIUM)" title="Direct link to 9. Missing CSRF Protection (MEDIUM)">​</a></h4>
<p><strong>Impact</strong>: Cross-site request forgery attacks
<strong>Fix</strong>: Ensure CSRF middleware is active on all forms</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="10-predictable-id-generation-medium">10. Predictable ID Generation (MEDIUM)<a href="#10-predictable-id-generation-medium" class="hash-link" aria-label="Direct link to 10. Predictable ID Generation (MEDIUM)" title="Direct link to 10. Predictable ID Generation (MEDIUM)">​</a></h4>
<p><strong>Location</strong>: <code>app/Livewire/Module/Teller/UploadAutopay.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ⚠️ MEDIUM: Predictable processing IDs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$this-&gt;processingId = uniqid(&#x27;autopay_&#x27;, true);</span><br></span></code></pre></div></div>
<p><strong>Fix</strong>: Use cryptographically secure random generation</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="complete-issue-summary">Complete Issue Summary<a href="#complete-issue-summary" class="hash-link" aria-label="Direct link to Complete Issue Summary" title="Direct link to Complete Issue Summary">​</a></h3>
<table><thead><tr><th>Severity</th><th>Count</th><th>Examples</th></tr></thead><tbody><tr><td>Critical</td><td>4</td><td>Authentication bypass, SSL disabled, SQL injection</td></tr><tr><td>High</td><td>4</td><td>Weak crypto, file upload issues, info disclosure</td></tr><tr><td>Medium</td><td>9</td><td>Session security, CSRF, predictable IDs</td></tr><tr><td>Low</td><td>20</td><td>Code quality, missing validation, performance</td></tr><tr><td><strong>Total</strong></td><td><strong>37</strong></td><td><strong>Comprehensive security review needed</strong></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-guide">Development Guide<a href="#development-guide" class="hash-link" aria-label="Direct link to Development Guide" title="Direct link to Development Guide">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Setup development environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone [repository-url]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd sfms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">composer install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.example .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Configure database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan db:seed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">composer dev  # Runs server, queue, logs, and vite concurrently</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-commands">Development Commands<a href="#development-commands" class="hash-link" aria-label="Direct link to Development Commands" title="Direct link to Development Commands">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Laravel commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan serve                    # Development server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan queue:listen --tries=1  # Queue worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan pail --timeout=0       # Log monitoring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run dev    # Development build with hot reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run build  # Production build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor/bin/pest              # Run all tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor/bin/pest tests/Feature # Feature tests only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Code quality</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor/bin/pint  # Code formatting</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-development-patterns">Key Development Patterns<a href="#key-development-patterns" class="hash-link" aria-label="Direct link to Key Development Patterns" title="Direct link to Key Development Patterns">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="livewire-component-structure">Livewire Component Structure<a href="#livewire-component-structure" class="hash-link" aria-label="Direct link to Livewire Component Structure" title="Direct link to Livewire Component Structure">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class ExampleComponent extends Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use WithPagination, WireUiActions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Properties with validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[Validate(&#x27;required&#x27;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string $searchTerm = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Lifecycle hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function mount($parameter) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function updatedSearchTerm() { $this-&gt;resetPage(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Business logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function performAction() { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Render method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function render()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return view(&#x27;livewire.component&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;data&#x27; =&gt; $this-&gt;getData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ])-&gt;extends(&#x27;layouts.app&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="job-processing-pattern">Job Processing Pattern<a href="#job-processing-pattern" class="hash-link" aria-label="Direct link to Job Processing Pattern" title="Direct link to Job Processing Pattern">​</a></h4>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class ExampleJob implements ShouldQueue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $tries = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $backoff = [60, 120, 300];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public $timeout = 1800;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public function handle()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Business logic with progress tracking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $this-&gt;updateProgress($current, $total);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (\Exception $e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Log::error(&#x27;Job failed&#x27;, [&#x27;error&#x27; =&gt; $e-&gt;getMessage()]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw $e;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-strategy">Testing Strategy<a href="#testing-strategy" class="hash-link" aria-label="Direct link to Testing Strategy" title="Direct link to Testing Strategy">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Feature test example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test(&#x27;user can search staff records&#x27;, function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $user = User::factory()-&gt;create();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $this-&gt;actingAs($user)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         -&gt;livewire(CifIndex::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         -&gt;set(&#x27;searchTerm&#x27;, &#x27;John&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         -&gt;assertSee(&#x27;John Doe&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance--troubleshooting">Maintenance &amp; Troubleshooting<a href="#maintenance--troubleshooting" class="hash-link" aria-label="Direct link to Maintenance &amp; Troubleshooting" title="Direct link to Maintenance &amp; Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="queue-workers-not-processing">Queue Workers Not Processing<a href="#queue-workers-not-processing" class="hash-link" aria-label="Direct link to Queue Workers Not Processing" title="Direct link to Queue Workers Not Processing">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check queue status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan queue:work --once</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Restart queue workers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan queue:restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Clear failed jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan queue:flush</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-upload-failures">File Upload Failures<a href="#file-upload-failures" class="hash-link" aria-label="Direct link to File Upload Failures" title="Direct link to File Upload Failures">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check storage permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod -R 775 storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check PHP configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php -i | grep upload_max_filesize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php -i | grep post_max_size</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check log files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f storage/logs/upload-autopay-*.log</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="api-integration-issues">API Integration Issues<a href="#api-integration-issues" class="hash-link" aria-label="Direct link to API Integration Issues" title="Direct link to API Integration Issues">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Test API connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -v https://integrasiapistg.ssm4u.com.my:9444/health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check API logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f storage/logs/ape-api-*.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f storage/logs/appe-api-*.log</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-connection-issues">Database Connection Issues<a href="#database-connection-issues" class="hash-link" aria-label="Direct link to Database Connection Issues" title="Direct link to Database Connection Issues">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Test database connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan tinker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB::connection()-&gt;getPdo();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check SQL Server connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sqlcmd -S server -U username -P password</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-monitoring">Performance Monitoring<a href="#performance-monitoring" class="hash-link" aria-label="Direct link to Performance Monitoring" title="Direct link to Performance Monitoring">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-metrics-to-monitor">Key Metrics to Monitor<a href="#key-metrics-to-monitor" class="hash-link" aria-label="Direct link to Key Metrics to Monitor" title="Direct link to Key Metrics to Monitor">​</a></h4>
<ul>
<li>Queue job processing time</li>
<li>API response times</li>
<li>File upload success rates</li>
<li>Database query performance</li>
<li>Memory usage during file processing</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="log-analysis">Log Analysis<a href="#log-analysis" class="hash-link" aria-label="Direct link to Log Analysis" title="Direct link to Log Analysis">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Monitor application logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f storage/logs/laravel.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Monitor specific channels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f storage/logs/upload-autopay-*.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f storage/logs/ape-api-*.log</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-monitoring">Security Monitoring<a href="#security-monitoring" class="hash-link" aria-label="Direct link to Security Monitoring" title="Direct link to Security Monitoring">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="security-events-to-monitor">Security Events to Monitor<a href="#security-events-to-monitor" class="hash-link" aria-label="Direct link to Security Events to Monitor" title="Direct link to Security Events to Monitor">​</a></h4>
<ul>
<li>Failed authentication attempts</li>
<li>File upload activities</li>
<li>API authentication failures</li>
<li>Database connection errors</li>
<li>Unusual access patterns</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="regular-security-tasks">Regular Security Tasks<a href="#regular-security-tasks" class="hash-link" aria-label="Direct link to Regular Security Tasks" title="Direct link to Regular Security Tasks">​</a></h4>
<ol>
<li>Review and rotate API credentials</li>
<li>Monitor log files for suspicious activity</li>
<li>Update dependencies regularly</li>
<li>Perform security audits</li>
<li>Test backup and recovery procedures</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations-for-new-maintainer">Recommendations for New Maintainer<a href="#recommendations-for-new-maintainer" class="hash-link" aria-label="Direct link to Recommendations for New Maintainer" title="Direct link to Recommendations for New Maintainer">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="immediate-actions-critical-priority">Immediate Actions (Critical Priority)<a href="#immediate-actions-critical-priority" class="hash-link" aria-label="Direct link to Immediate Actions (Critical Priority)" title="Direct link to Immediate Actions (Critical Priority)">​</a></h3>
<ol>
<li><strong>Fix Authentication System</strong>: Implement proper password-based authentication</li>
<li><strong>Add Route Protection</strong>: Apply authentication middleware to all protected routes</li>
<li><strong>Enable SSL Verification</strong>: Fix API SSL certificate verification</li>
<li><strong>Validate User Input</strong>: Add comprehensive input validation</li>
<li><strong>Secure File Uploads</strong>: Implement proper file validation and security</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="short-term-improvements-high-priority">Short-term Improvements (High Priority)<a href="#short-term-improvements-high-priority" class="hash-link" aria-label="Direct link to Short-term Improvements (High Priority)" title="Direct link to Short-term Improvements (High Priority)">​</a></h3>
<ol>
<li><strong>Add CSRF Protection</strong>: Ensure CSRF tokens are validated</li>
<li><strong>Encrypt Sessions</strong>: Enable session encryption in production</li>
<li><strong>Implement Rate Limiting</strong>: Add rate limiting to prevent abuse</li>
<li><strong>Improve Error Handling</strong>: Standardize error handling across the application</li>
<li><strong>Add Security Headers</strong>: Implement security headers middleware</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="long-term-enhancements-medium-priority">Long-term Enhancements (Medium Priority)<a href="#long-term-enhancements-medium-priority" class="hash-link" aria-label="Direct link to Long-term Enhancements (Medium Priority)" title="Direct link to Long-term Enhancements (Medium Priority)">​</a></h3>
<ol>
<li><strong>Comprehensive Testing</strong>: Add unit and integration tests</li>
<li><strong>Performance Optimization</strong>: Optimize database queries and caching</li>
<li><strong>Code Quality</strong>: Refactor duplicated code and improve maintainability</li>
<li><strong>Documentation</strong>: Add inline documentation and API documentation</li>
<li><strong>Monitoring</strong>: Implement comprehensive monitoring and alerting</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-quality-standards">Code Quality Standards<a href="#code-quality-standards" class="hash-link" aria-label="Direct link to Code Quality Standards" title="Direct link to Code Quality Standards">​</a></h3>
<ol>
<li>Use type hints for all method parameters and return types</li>
<li>Follow PSR-12 coding standards</li>
<li>Add PHPDoc comments for complex business logic</li>
<li>Use Laravel best practices for models and controllers</li>
<li>Implement proper exception handling</li>
</ol>
<p>This documentation should serve as a comprehensive guide for understanding, maintaining, and improving the SFMS application. The security issues identified require immediate attention to ensure the system is safe for production use.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/creative-system-consultant/csc-docs/docs/SFMS_DOCUMENTATION.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/csc-docs/docs/pmgi-docs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TEKUN PMGI Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#project-overview" class="table-of-contents__link toc-highlight">Project Overview</a><ul><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li><li><a href="#technology-stack" class="table-of-contents__link toc-highlight">Technology Stack</a></li></ul></li><li><a href="#system-architecture" class="table-of-contents__link toc-highlight">System Architecture</a><ul><li><a href="#application-structure" class="table-of-contents__link toc-highlight">Application Structure</a></li><li><a href="#module-organization" class="table-of-contents__link toc-highlight">Module Organization</a></li></ul></li><li><a href="#database-structure" class="table-of-contents__link toc-highlight">Database Structure</a><ul><li><a href="#core-tables" class="table-of-contents__link toc-highlight">Core Tables</a></li><li><a href="#model-relationships" class="table-of-contents__link toc-highlight">Model Relationships</a></li><li><a href="#️-database-issues-identified" class="table-of-contents__link toc-highlight">⚠️ Database Issues Identified</a></li></ul></li><li><a href="#api-integrations" class="table-of-contents__link toc-highlight">API Integrations</a><ul><li><a href="#apeappe-api-services" class="table-of-contents__link toc-highlight">APE/APPE API Services</a></li><li><a href="#️-api-security-issues" class="table-of-contents__link toc-highlight">⚠️ API Security Issues</a></li></ul></li><li><a href="#livewire-components" class="table-of-contents__link toc-highlight">Livewire Components</a><ul><li><a href="#component-architecture" class="table-of-contents__link toc-highlight">Component Architecture</a></li><li><a href="#file-upload-with-real-time-progress" class="table-of-contents__link toc-highlight">File Upload with Real-time Progress</a></li><li><a href="#️-component-security-issues" class="table-of-contents__link toc-highlight">⚠️ Component Security Issues</a></li></ul></li><li><a href="#job-processing--file-handling" class="table-of-contents__link toc-highlight">Job Processing &amp; File Handling</a><ul><li><a href="#job-classes" class="table-of-contents__link toc-highlight">Job Classes</a></li><li><a href="#file-processing-service" class="table-of-contents__link toc-highlight">File Processing Service</a></li><li><a href="#️-file-processing-issues" class="table-of-contents__link toc-highlight">⚠️ File Processing Issues</a></li></ul></li><li><a href="#authentication--security" class="table-of-contents__link toc-highlight">Authentication &amp; Security</a><ul><li><a href="#authentication-implementation" class="table-of-contents__link toc-highlight">Authentication Implementation</a></li><li><a href="#security-configuration" class="table-of-contents__link toc-highlight">Security Configuration</a></li><li><a href="#️-critical-security-vulnerabilities" class="table-of-contents__link toc-highlight">⚠️ Critical Security Vulnerabilities</a></li></ul></li><li><a href="#deployment--configuration" class="table-of-contents__link toc-highlight">Deployment &amp; Configuration</a><ul><li><a href="#environment-requirements" class="table-of-contents__link toc-highlight">Environment Requirements</a></li><li><a href="#deployment-steps" class="table-of-contents__link toc-highlight">Deployment Steps</a></li><li><a href="#️-deployment-security-issues" class="table-of-contents__link toc-highlight">⚠️ Deployment Security Issues</a></li></ul></li><li><a href="#critical-issues--security-vulnerabilities" class="table-of-contents__link toc-highlight">Critical Issues &amp; Security Vulnerabilities</a><ul><li><a href="#critical-severity-issues" class="table-of-contents__link toc-highlight">Critical Severity Issues</a></li><li><a href="#high-severity-issues" class="table-of-contents__link toc-highlight">High Severity Issues</a></li><li><a href="#medium-severity-issues" class="table-of-contents__link toc-highlight">Medium Severity Issues</a></li><li><a href="#complete-issue-summary" class="table-of-contents__link toc-highlight">Complete Issue Summary</a></li></ul></li><li><a href="#development-guide" class="table-of-contents__link toc-highlight">Development Guide</a><ul><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li><li><a href="#development-commands" class="table-of-contents__link toc-highlight">Development Commands</a></li><li><a href="#key-development-patterns" class="table-of-contents__link toc-highlight">Key Development Patterns</a></li><li><a href="#testing-strategy" class="table-of-contents__link toc-highlight">Testing Strategy</a></li></ul></li><li><a href="#maintenance--troubleshooting" class="table-of-contents__link toc-highlight">Maintenance &amp; Troubleshooting</a><ul><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li><li><a href="#performance-monitoring" class="table-of-contents__link toc-highlight">Performance Monitoring</a></li><li><a href="#security-monitoring" class="table-of-contents__link toc-highlight">Security Monitoring</a></li></ul></li><li><a href="#recommendations-for-new-maintainer" class="table-of-contents__link toc-highlight">Recommendations for New Maintainer</a><ul><li><a href="#immediate-actions-critical-priority" class="table-of-contents__link toc-highlight">Immediate Actions (Critical Priority)</a></li><li><a href="#short-term-improvements-high-priority" class="table-of-contents__link toc-highlight">Short-term Improvements (High Priority)</a></li><li><a href="#long-term-enhancements-medium-priority" class="table-of-contents__link toc-highlight">Long-term Enhancements (Medium Priority)</a></li><li><a href="#code-quality-standards" class="table-of-contents__link toc-highlight">Code Quality Standards</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>